/*! For license information please see main.e61db39f.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-mixdesk-example"]=this["webpackJsonpreact-mixdesk-example"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);r(6);var n=r(0),s=r.n(n),a=r(3),o=r.n(a),c=r(4),i=r(1),u=r(2);var l=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){!function(){var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var s=arguments[n];if(s){var a=typeof s;if("string"===a||"number"===a)e.push(s);else if(Array.isArray(s)&&s.length){var o=r.apply(null,s);o&&e.push(o)}else if("object"===a)for(var c in s)t.call(s,c)&&s[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r}()}));function h(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}function m(e){return function t(r){return 0===arguments.length||h(r)?t:e.apply(this,arguments)}}function d(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return h(r)?t:m((function(t){return e(r,t)}));default:return h(r)&&h(n)?t:h(r)?m((function(t){return e(t,n)})):h(n)?m((function(t){return e(r,t)})):e(r,n)}}}var f=d((function(e,t){return Number(e)+Number(t)}));function p(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,s){return t.apply(this,arguments)};case 5:return function(e,r,n,s,a){return t.apply(this,arguments)};case 6:return function(e,r,n,s,a,o){return t.apply(this,arguments)};case 7:return function(e,r,n,s,a,o,c){return t.apply(this,arguments)};case 8:return function(e,r,n,s,a,o,c,i){return t.apply(this,arguments)};case 9:return function(e,r,n,s,a,o,c,i,u){return t.apply(this,arguments)};case 10:return function(e,r,n,s,a,o,c,i,u,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var g=d((function(e,t){return 1===e?m(t):p(e,function e(t,r,n){return function(){for(var s=[],a=0,o=t,c=0;c<r.length||a<arguments.length;){var i;c<r.length&&(!h(r[c])||a>=arguments.length)?i=r[c]:(i=arguments[a],a+=1),s[c]=i,h(i)||(o-=1),c+=1}return o<=0?n.apply(this,s):p(o,e(t,s,n))}}(e,[],t))}));function v(e){return function t(r,n,s){switch(arguments.length){case 0:return t;case 1:return h(r)?t:d((function(t,n){return e(r,t,n)}));case 2:return h(r)&&h(n)?t:h(r)?d((function(t,r){return e(t,n,r)})):h(n)?d((function(t,n){return e(r,t,n)})):m((function(t){return e(r,n,t)}));default:return h(r)&&h(n)&&h(s)?t:h(r)&&h(n)?d((function(t,r){return e(t,r,s)})):h(r)&&h(s)?d((function(t,r){return e(t,n,r)})):h(n)&&h(s)?d((function(t,n){return e(r,t,n)})):h(r)?m((function(t){return e(t,n,s)})):h(n)?m((function(t){return e(r,t,s)})):h(s)?m((function(t){return e(r,n,t)})):e(r,n,s)}}}var y=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function E(e){return null!=e&&"function"===typeof e["@@transducer/step"]}function P(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),s=n.pop();if(!y(s)){for(var a=0;a<e.length;){if("function"===typeof s[e[a]])return s[e[a]].apply(s,n);a+=1}if(E(s)){var o=t.apply(null,n);return o(s)}}return r.apply(this,arguments)}}var b=function(){return this.xf["@@transducer/init"]()},A=function(e){return this.xf["@@transducer/result"](e)},_=d((function(e,t){return t>e?t:e}));function x(e,t){for(var r=0,n=t.length,s=Array(n);r<n;)s[r]=e(t[r]),r+=1;return s}function O(e){return"[object String]"===Object.prototype.toString.call(e)}var S=m((function(e){return!!y(e)||!!e&&("object"===typeof e&&(!O(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),j=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var N=d((function(e,t){return p(e.length,(function(){return e.apply(t,arguments)}))}));function k(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function w(e,t,r,n){return e["@@transducer/result"](r[n](N(e["@@transducer/step"],e),t))}var T="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function L(e,t,r){if("function"===typeof e&&(e=function(e){return new j(e)}(e)),S(r))return function(e,t,r){for(var n=0,s=r.length;n<s;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"===typeof r["fantasy-land/reduce"])return w(e,t,r,"fantasy-land/reduce");if(null!=r[T])return k(e,t,r[T]());if("function"===typeof r.next)return k(e,t,r);if("function"===typeof r.reduce)return w(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var C=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b,e.prototype["@@transducer/result"]=A,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),R=d((function(e,t){return new C(e,t)}));function D(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var B=Object.prototype.toString,I=function(){return"[object Arguments]"===B.call(arguments)?function(e){return"[object Arguments]"===B.call(e)}:function(e){return D("callee",e)}}(),F=!{toString:null}.propertyIsEnumerable("toString"),M=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],V=function(){return arguments.propertyIsEnumerable("length")}(),Y=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},K="function"!==typeof Object.keys||V?m((function(e){if(Object(e)!==e)return[];var t,r,n=[],s=V&&I(e);for(t in e)!D(t,e)||s&&"length"===t||(n[n.length]=t);if(F)for(r=M.length-1;r>=0;)D(t=M[r],e)&&!Y(n,t)&&(n[n.length]=t),r-=1;return n})):m((function(e){return Object(e)!==e?[]:Object.keys(e)})),G=d(P(["fantasy-land/map","map"],R,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return g(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return L((function(r,n){return r[n]=e(t[n]),r}),{},K(t));default:return x(e,t)}}))),U=d((function(e,t){for(var r=t,n=0;n<e.length;){if(null==r)return;r=r[e[n]],n+=1}return r})),z=d((function(e,t){return U([e],t)})),q=d((function(e,t){return G(z(e),t)})),W=v(L),X=m((function(e){return g(e.length,e)})),H=m((function(e){return!e})),J=d((function(e,t){var r=e<0?t.length+e:e;return O(t)?t.charAt(r):t[r]})),Q=J(0);var Z=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b,e.prototype["@@transducer/result"]=A,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),$=d(P(["filter"],d((function(e,t){return new Z(e,t)})),(function(e,t){return r=t,"[object Object]"===Object.prototype.toString.call(r)?L((function(r,n){return e(t[n])&&(r[n]=t[n]),r}),{},K(t)):function(e,t){for(var r=0,n=t.length,s=[];r<n;)e(t[r])&&(s[s.length]=t[r]),r+=1;return s}(e,t);var r}))),ee=d((function(e,t){return $((r=e,function(){return!r.apply(this,arguments)}),t);var r})),te=d((function(e,t){return g(W(_,0,q("length",t)),(function(){var r=arguments,n=this;return e.apply(n,x((function(e){return e.apply(n,r)}),t))}))})),re=d((function(e,t){return e/t})),ne=J(-1);var se=m((function(e){return null!=e&&(t=e.length,"[object Number]"===Object.prototype.toString.call(t))?e.length:NaN;var t}));const ae=te(re,[W(f,0),se]);var oe="_6u3vm",ce="_1VI_U",ie="_2iklQ",ue="_2dJCU",le="_3U0Kd",he="_2PUvZ",me="_2cHyh",de="_3mOYy",fe="__RuPX",pe="_2WB_F",ge="_3M106",ve="_1mGJd",ye="_3SLwD",Ee="_a_YRY",Pe="_1PidS",be="_jFkfm",Ae="_1T2bO",_e="_QdsWQ";const xe=({position:e=0,isVertical:t=!1,events:r={},isKnobThumb:n=!1,className:a})=>{const o=t?"bottom":"left",c=e+"%";return s.a.createElement("div",null,s.a.createElement("div",Object.assign({className:"".concat(be," ").concat(a),style:{[o]:c}},r)),n&&s.a.createElement("div",{className:_e,style:{width:c}}))},Oe={mousemove:"touchmove",mouseup:"touchend",mousedown:"touchstart"},Se="undefined"===typeof window,je=()=>Se&&"ontouchstart"in window,Ne=e=>je()?Oe[e]:e,ke=({value:e=0,isVertical:t=!1,isKnobThumb:r=!1,onChange:a=(()=>{}),className:o=""})=>{const c=Object(n.useRef)(null),i=e=>{e.preventDefault();const r=c.current,n=r&&r.getBoundingClientRect(),s=(e=>e.touches?e.touches[0].pageX:e.pageX)(e)-document.documentElement.scrollLeft,o=(e=>e.touches?e.touches[0].pageY:e.pageY)(e)-document.documentElement.scrollTop,i=t?((e,{top:t,bottom:r,height:n})=>{let s=e;return s<t&&(s=t),s>r&&(s=r),s=r-s,s/(n/100)})(o,n):((e,{width:t,left:r})=>{let n=e;const s=r+t;return n>s&&(n=s),n<r&&(n=r),n-=r,n/(t/100)})(s,n);return a(i),!1},u=e=>(e.preventDefault(),document.documentElement.removeEventListener(Ne("mousemove"),i),document.documentElement.removeEventListener(Ne("mouseup"),u),!1),h=je()?"onTouchStart":"onMouseDown";return s.a.createElement("div",{className:l(ye,!t&&Ee,r&&Ae),ref:c},s.a.createElement("div",{className:Pe},s.a.createElement(xe,{position:e,events:{[h]:e=>(e.preventDefault(),document.documentElement.addEventListener(Ne("mousemove"),i),document.documentElement.addEventListener(Ne("mouseup"),u),!1)},isVertical:t,isKnobThumb:r,className:o})))},we=({analyser:e=null,width:t=6,height:r=210,volume:a=70,onVolumeChange:o})=>{if(!e)return null;const c=Object(n.useRef)(null);return Object(n.useEffect)(()=>{const n=c.current&&c.current.getContext("2d"),s=new Uint8Array(e.frequencyBinCount),a=()=>{e.getByteFrequencyData(s);const o=ae(s);n&&(n.clearRect(0,0,t,r),n.fillStyle=((e,{width:t,height:r})=>{const n=e.createLinearGradient(0,0,t,r);return n.addColorStop(0,"#05860f"),n.addColorStop(.8,"#f9ef5c"),n.addColorStop(.9,"#861615"),n})(n,{width:t,height:r}),n.fillRect(0,0,t,r/100*o)),requestAnimationFrame(a)};a()},[]),s.a.createElement("div",{className:"".concat(oe," ").concat(ie)},s.a.createElement("canvas",{className:ce,width:t,height:r,ref:c}),s.a.createElement(ke,{onChange:o,isVertical:!0,value:a}),s.a.createElement("div",{className:ve},"Master"))};var Te,Le,Ce,Re;!function(e){e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.READY="READY",e.FAILED="FAILED",e.NOT_SET="NOT_SET"}(Te||(Te={})),function(e){e.RUNNING="running",e.SUSPENDED="suspended"}(Le||(Le={})),function(e){e.LOADING="LOADING",e.READY="READY",e.FAILED="FAILED",e.NOT_SET="NOT_SET"}(Ce||(Ce={})),function(e){e.LOWPASS="lowpass",e.HIGHPASS="highpass",e.BANDPASS="bandpass"}(Re||(Re={}));const De=e=>e.status===Te.PLAYING,Be=e=>e.status===Te.PAUSED,Ie=e=>De(e)||Be(e)||(e=>e.status===Te.READY)(e),Fe=G(e=>e.play()),Me=G(e=>e.pause()),Ve=G(e=>{e.stop(),e.play()}),Ye=G(e=>e.stop());var Ke={desk:"_2kf8g",tracks:"_2TO1x",controlsContainer:"_3WLpI",controls:"_1otLf",controlsLeft:"_3FLrC",controlsCustom:"_Daig5",controlsRight:"_3Ss9M",button:"_2FsJu",controlButton:"_3Il0q",isNotActive:"_oTeQj",isActive:"_2cjg2",isButtonPressed:"_3oNW9",effects:"_35pDI",progressContainer:"_gyQgR",progressBar:"_1nvMv",progressTimeNow:"_3SsZg",progressTime:"_yggUB",masterVolume:"_81rJ9"};const Ge=({playback:e,onPlay:t=(()=>{}),onPause:r=(()=>{}),onFastForward:n=(()=>{}),onFastRewind:a=(()=>{}),onMasterVolumeChange:o=(()=>{}),onLoop:c=(()=>{}),tracks:i=[],effects:u=[],children:h})=>{const m=e=>l(Ke.control,Ke.button,e&&Ke.isButtonPressed),d=(e=>H(Ie(e)))(e);return s.a.createElement("div",{className:Ke.desk},s.a.createElement("div",{className:Ke.tracks},i,e.analyser&&s.a.createElement(we,{volume:e.masterVolume,onVolumeChange:o,analyser:e.analyser})),s.a.createElement("div",{className:Ke.controlsContainer},s.a.createElement("div",{className:Ke.progressContainer},s.a.createElement("div",{className:Ke.progressBar,style:{width:"".concat(ze(e.currentPosition,e.duration)||0,"%")}}),s.a.createElement("div",{className:Ke.progressTimeNow},Ue(e.currentPosition)),s.a.createElement("div",{className:Ke.progressTime},Ue(e.duration))),s.a.createElement("div",{className:Ke.controls},s.a.createElement("div",{className:Ke.controlsLeft},s.a.createElement("button",{className:Ke.controlButton,disabled:d,onClick:()=>a(15)},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 28",width:"24px"},s.a.createElement("defs",null),s.a.createElement("text",{fill:"#fff",dominantBaseline:"text-before-edge",fontFamily:"'Avenir Next','AvenirNext-Bold'",fontSize:"9",fontStyle:"none",fontWeight:"700",transform:"translate(6 10)"},s.a.createElement("tspan",null,"15")),s.a.createElement("path",{fill:"#fff",d:"M12.4 4V.5a.4.4 0 00-.8-.3L7.5 4.3a1 1 0 000 1.4l4.1 4.2c.3.3.8 0 .8-.3V6a9.8 9.8 0 11-10 9.8H.6A11.7 11.7 0 1012.4 4z"}))),De(e)?s.a.createElement("button",{className:m(Be(e)),onClick:r,disabled:d},s.a.createElement("svg",{width:"32px",height:"36px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{id:"svg_1",d:"m29.05829,98.186882l-18.799027,0c-4.588525,0 -8.308265,-3.719734 -8.308265,-8.308266l0,-79.706622c0,-4.588521 3.71974,-8.308262 8.308265,-8.308262l18.799027,0c4.588522,0 8.308264,3.71974 8.308264,8.308262l0,79.706622c0,4.588531 -3.719742,8.308266 -8.308264,8.308266z"}),s.a.createElement("path",{id:"svg_2",d:"m88.74073,98.108856l-18.799034,0c-4.588516,0 -8.308258,-3.719734 -8.308258,-8.308266l0,-79.706615c0,-4.588525 3.719742,-8.308266 8.308258,-8.308266l18.799034,0c4.588531,0 8.308273,3.719741 8.308273,8.308266l0,79.706615c0,4.588531 -3.719742,8.308266 -8.308273,8.308266z"}),s.a.createElement("path",{id:"svg_3",d:"m30.498528,2.009229c1.62159,1.516152 2.650631,3.65859 2.650631,6.054068l0,79.706615c0,4.588539 -3.71974,8.308273 -8.30826,8.308273l-18.799028,0c-0.493438,0 -0.970003,-0.063263 -1.440241,-0.1455c1.484523,1.387512 3.464588,2.254196 5.657634,2.254196l18.799027,0c4.588522,0 8.308264,-3.719734 8.308264,-8.308266l0,-79.706622c0,-4.095088 -2.96904,-7.477437 -6.868027,-8.162765z"}),s.a.createElement("path",{id:"svg_4",d:"m90.180962,1.93121c1.621582,1.516153 2.65065,3.658586 2.65065,6.054068l0,79.706608c0,4.588539 -3.719742,8.308273 -8.308273,8.308273l-18.799026,0c-0.493439,0 -0.970009,-0.063263 -1.440239,-0.1455c1.484512,1.387535 3.464584,2.254196 5.657623,2.254196l18.799034,0c4.588531,0 8.308273,-3.719734 8.308273,-8.308266l0,-79.706615c0,-4.095092 -2.969055,-7.479549 -6.868042,-8.162765z"}),s.a.createElement("path",{id:"svg_5",fill:"none",stroke:"#000000",strokeMiterlimit:"10",d:"m29.05829,98.186882l-18.799027,0c-4.588525,0 -8.308265,-3.719734 -8.308265,-8.308266l0,-79.706622c0,-4.588521 3.71974,-8.308262 8.308265,-8.308262l18.799027,0c4.588522,0 8.308264,3.71974 8.308264,8.308262l0,79.706622c0,4.588531 -3.719742,8.308266 -8.308264,8.308266z"}),s.a.createElement("path",{id:"svg_6",fill:"none",stroke:"#000000",strokeMiterlimit:"10",d:"m88.74073,98.108856l-18.799034,0c-4.588516,0 -8.308258,-3.719734 -8.308258,-8.308266l0,-79.706615c0,-4.588525 3.719742,-8.308266 8.308258,-8.308266l18.799034,0c4.588531,0 8.308273,3.719741 8.308273,8.308266l0,79.706615c0,4.588531 -3.719742,8.308266 -8.308273,8.308266z"}))):s.a.createElement("button",{className:m(De(e)),onClick:t,disabled:d},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32px",viewBox:"0 0 32 36"},s.a.createElement("defs",null),s.a.createElement("path",{fill:"#fff",d:"M31.5 18L.5 36V0z"}))),s.a.createElement("button",{className:Ke.controlButton,disabled:d,onClick:()=>n(15)},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",viewBox:"0 0 24 28"},s.a.createElement("defs",null),s.a.createElement("text",{fill:"#fff",dominantBaseline:"text-before-edge",fontFamily:"'Avenir Next','AvenirNext-Bold'",fontSize:"9",fontStyle:"none",fontWeight:"700",transform:"translate(6 10)"},s.a.createElement("tspan",null,"15")),s.a.createElement("path",{fill:"#fff",d:"M11.9 4V.5c0-.4.4-.5.7-.3l4.2 4.2a1 1 0 010 1.4L12.6 10a.4.4 0 01-.7-.3V6a9.8 9.8 0 109.9 9.8h1.9A11.7 11.7 0 1111.9 4z"})))),s.a.createElement("div",{className:Ke.controlsCustom},h),s.a.createElement("div",{className:Ke.controlsRight},s.a.createElement("div",{className:Ke.masterVolume},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",viewBox:"0 0 30 25"},s.a.createElement("defs",null),s.a.createElement("path",{fill:"#fff",d:"M16 3.7v17.1l-9.4-3.7H2V7.5h4.6zM0 5.5V19h6.2L18 23.8V.8L6.2 5.4zM22.2 5a1 1 0 10-1.4 1.4 8.2 8.2 0 012.4 5.9 8.2 8.2 0 01-2.4 5.8 1 1 0 101.4 1.4 10.1 10.1 0 003-7.2c0-2.8-1.1-5.3-3-7.3z"}),s.a.createElement("path",{fill:"#fff",d:"M24.9.3a1 1 0 00-1.4 1.4 15 15 0 010 21.1 1 1 0 101.4 1.4 17 17 0 000-24z"})),s.a.createElement(ke,{onChange:o,isKnobThumb:!0,value:e.masterVolume})),s.a.createElement("button",{className:l(Ke.controlButton,e.isLooped&&Ke.isActive,!e.isLooped&&Ke.isNotActive),onClick:()=>c(!e.isLooped),disabled:d},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31px",viewBox:"0 0 31 28"},s.a.createElement("defs",null),s.a.createElement("path",{fill:"#fff",d:"M28.3 4.4L24 0v3.4H10.4A10.5 10.5 0 002 19.8l1.4-1.4A8.4 8.4 0 012 13.9c0-4.7 3.8-8.5 8.4-8.5H24V9zM2.7 23.2l4.4 4.4v-3.4h13.5a10.5 10.5 0 008.6-16.4l-1.5 1.4a8.4 8.4 0 011.3 4.6c0 4.6-3.7 8.4-8.4 8.4H7.1v-3.4z"})))))),u.length>0&&s.a.createElement("div",{className:Ke.effects},u))},Ue=(e=0)=>{const t=Math.floor(e%60),r={minutes:Math.floor((e-t)/60%60),seconds:t>10?t:"0".concat(t)};return"".concat(r.minutes,":").concat(r.seconds)},ze=(e,t)=>100*e/t;var qe="_3DvEK",We="_2mZqh",Xe="_1W6Nw",He="_2UB_d",Je="_3k2x_";var Qe="_ykfH9",Ze="_3YzIf",$e="_36aDZ";const et={fader:ke,radio:({name:e,value:t,values:r=[],onChange:n=(()=>{})})=>s.a.createElement("div",{className:qe},r&&r.map(e=>s.a.createElement("div",{key:e,className:We,onClick:()=>n(e)},s.a.createElement("div",{className:l(Xe,e===t&&Je)}),s.a.createElement("div",{className:He},e))))},tt=e=>{let t=e.onChange,r=Object(u.a)(e,["onChange"]);const n=r.id,a=r.name,o=r.type,c=(e=>et[e])(void 0===o?"fader":o);return c?s.a.createElement("div",{className:Qe,key:n},s.a.createElement("span",{className:$e},a,":"),s.a.createElement("div",{className:Ze},s.a.createElement(c,Object.assign({},r,{onChange:t(n)})))):null};var rt={effect:"_2qSP4",title:"_Ls5Oz"};const nt=({name:e="Untitled",parameters:t,onParamChange:r=(()=>{})})=>s.a.createElement("div",{className:rt.effect},s.a.createElement("div",{className:rt.title},e),t&&t.map(e=>s.a.createElement("div",{className:rt.parameterValue,key:e.id},s.a.createElement(tt,Object.assign({},e,{onChange:r})))));var st="_2IpcY",at="_2GJ4A",ot="_1CWIm",ct="_2uy_8";class it extends n.Component{constructor(e){super(e),this.startDrag=e=>{e.preventDefault();const t=e.target.getBoundingClientRect(),r={x:t.left+t.width/2,y:t.top+t.height/2},n=e=>{this.currentDeg=this.getDeg(e.clientX,e.clientY,r),this.isDragging=!0,requestAnimationFrame(this.update)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",()=>{this.isDragging=!1,document.removeEventListener("mousemove",n)})},this.update=()=>{this.isDragging&&requestAnimationFrame(this.update),this.currentDeg===this.startAngle&&this.currentDeg--;const e=Math.floor(this.convertRange(this.startAngle,this.endAngle,this.props.min,this.props.max,this.currentDeg));this.setState({deg:this.currentDeg}),this.props.onChange(e)},this.getDeg=(e,t,r)=>{const n=e-r.x,s=t-r.y;let a=180*Math.atan(s/n)/Math.PI;return a+=n<0&&s>=0||n<0&&s<0?90:270,Math.min(Math.max(this.startAngle,a),this.endAngle)},this.convertRange=(e,t,r,n,s)=>(s-e)*(n-r)/(t-e)+r,this.dcpy=e=>JSON.parse(JSON.stringify(e)),this.fullAngle=e.degrees,this.startAngle=(360-e.degrees)/2,this.endAngle=this.startAngle+e.degrees,this.margin=0,this.isDragging=!1,this.currentDeg=Math.floor(this.convertRange(e.min,e.max,this.startAngle,this.endAngle,e.value)),this.state={deg:this.currentDeg}}render(){let e={width:this.props.size,height:this.props.size},t=this.dcpy(e),r=this.dcpy(e);return r.margin=this.margin,this.props.color&&(r.backgroundImage="radial-gradient(100% 70%,hsl(210, "+this.currentDeg+"%, "+this.currentDeg/5+"%),hsl("+100*Math.random()+",20%,"+this.currentDeg/36+"%))"),t.transform="rotate("+this.state.deg+"deg)",s.a.createElement("div",{className:st,style:e},s.a.createElement("div",{className:"".concat(st," ").concat(at),style:r,onMouseDown:this.startDrag},s.a.createElement("div",{className:"".concat(st," ").concat(ot),style:t},s.a.createElement("div",{className:ct}))))}}it.defaultProps={size:150,min:10,max:30,degrees:270,value:0};const ut=e=>s.a.createElement("div",{className:ie},K(e.fx).length>0&&s.a.createElement("button",{className:l(le,e.isEffectsDisabled&&de),onClick:()=>e.onBypass(e.id)},"Bypass FX"),s.a.createElement("div",{className:ue},s.a.createElement("button",{className:l(le,e.isMuted&&de),onClick:()=>e.onMute(e.id),disabled:e.isSolo},"M"),s.a.createElement("div",{className:l(he,e.isMuted||e.isSolo?me:"")}),s.a.createElement("button",{className:l(le,e.isSolo&&de),onClick:()=>e.onSolo(e.id)},"S")),s.a.createElement(it,{degrees:180,min:1,max:100,value:e.pan+1,size:50,onChange:e.onPanChange(e.id)}),K(e.fx).length>0&&s.a.createElement("div",{className:fe},K(e.fx).map(t=>s.a.createElement("div",{className:pe,key:t},s.a.createElement("span",{className:ge},t),s.a.createElement(ke,{onChange:e.onSendLevelChange(t),value:e.fx[t]})))),s.a.createElement(ke,{onChange:e.onVolumeChange,value:e.volume,isVertical:!0}),s.a.createElement("div",{className:ve},e.title));ut.defaultProps={title:"Untitled",volume:70,isMuted:!1,isSolo:!1,isEffectsDisabled:!1,fx:null,onMute:e=>e,onSolo:e=>e,onBypass:e=>e,onVolumeChange:e=>e,onSendLevelChange:e=>e};const lt=Object(n.createContext)(null),ht=X((function({dispatch:e,mx:t},r){try{return t.current&&(t.current.volume=r),Promise.resolve(e({type:"PLAYBACK_SET_MASTER_VOLUME",payload:r}))}catch(n){return Promise.reject(n)}})),mt=X((function({dispatch:e,mx:t},r){try{function n(){return e({type:"PLAYBACK_FAST_FORWARD",payload:r})}const s=function(){if(t.current)return Promise.resolve(t.current.fastForward(r)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(s){return Promise.reject(s)}})),dt=X((function({dispatch:e,mx:t},r){try{function n(){return e({type:"PLAYBACK_FAST_REWIND",payload:r})}const s=function(){if(t.current)return Promise.resolve(t.current.fastRewind(r)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(s){return Promise.reject(s)}})),ft=X((function({dispatch:e,mx:t},r){try{function n(){return e({type:"PLAYBACK_LOOP",payload:r})}const s=function(){if(t.current)return Promise.resolve(t.current.loop(r)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(s){return Promise.reject(s)}})),pt=(X((function({dispatch:e},t){try{return Promise.resolve(e({type:"PLAYBACK_SET_CURRENT_POSITION",payload:t}))}catch(r){return Promise.reject(r)}})),X((function({dispatch:e,mx:t},r,n,s){try{function a(){return e({type:"SET_EFFECT_PARAM_VALUE",payload:{effectId:r,parameterId:n,value:s}})}const o=function(){if(t.current)return Promise.resolve(t.current.setSendParamValue(r,n,s)).then((function(){}))}();return Promise.resolve(o&&o.then?o.then(a):a())}catch(o){return Promise.reject(o)}}))),gt=X((function({dispatch:e,mx:t},r,n){try{function s(){return e({type:"SET_TRACK_VOLUME",payload:{trackId:r,value:n}})}const a=function(){if(t.current)return Promise.resolve(t.current.setTrackVolume(r,n)).then((function(){}))}();return Promise.resolve(a&&a.then?a.then(s):s())}catch(a){return Promise.reject(a)}})),vt=X((function({dispatch:e,mx:t},r,n,s){try{function a(){return e({type:"SET_TRACK_SEND_LEVEL",payload:{fxId:n,trackId:r,value:s}})}const o=function(){if(t.current)return Promise.resolve(t.current.setTrackSendLevel(r,n,s)).then((function(){}))}();return Promise.resolve(o&&o.then?o.then(a):a())}catch(o){return Promise.reject(o)}})),yt=X((function({dispatch:e,mx:t},r,n){try{function s(){return e({type:"SET_TRACK_PAN",payload:{trackId:r,value:n}})}const a=function(){if(t.current)return Promise.resolve(t.current.setTrackPan(r,n)).then((function(){}))}();return Promise.resolve(a&&a.then?a.then(s):s())}catch(a){return Promise.reject(a)}})),Et=X((function({dispatch:e,mx:t},r){try{function n(){return e({type:"TRACK_SOLO_TOGGLE",payload:{trackId:r}})}const s=function(){if(t.current)return Promise.resolve(t.current.soloTrack(r)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(s){return Promise.reject(s)}})),Pt=X((function({dispatch:e,mx:t},r){try{function n(){return e({type:"TRACK_MUTE_TOGGLE",payload:{trackId:r}})}const s=function(){if(t.current)return Promise.resolve(t.current.toggleTrack(r)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(s){return Promise.reject(s)}})),bt=X((function({dispatch:e,mx:t},r){try{function n(){return e({type:"TRACK_FX_TOGGLE",payload:{trackId:r}})}const s=function(){if(t.current)return Promise.resolve(t.current.toggleTrackFx(r)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(s){return Promise.reject(s)}})),At=e=>{const t=Object(n.useContext)(lt);return s.a.createElement(nt,Object.assign({},e,{onParamChange:pt(t,e.id)}))},_t=e=>{const t=e.id,r=Object(n.useContext)(lt);return s.a.createElement(ut,Object.assign({},e,{onSolo:Et(r),onMute:Pt(r),onBypass:bt(r),onVolumeChange:gt(r,t),onSendLevelChange:vt(r,t),onPanChange:yt(r)}))},xt=({tracks:e,effects:t,playback:r,children:a})=>{const o=Object(n.useContext)(lt),c=e.map(e=>s.a.createElement(_t,Object.assign({},e,{key:e.id}))),i=t.map(e=>s.a.createElement(At,Object.assign({},e,{key:e.id})));return s.a.createElement(Ge,{onPlay:()=>function({dispatch:e,mx:t}){try{function r(){return e({type:"PLAYBACK_PLAY"})}const n=function(){if(t.current)return Promise.resolve(t.current.play()).then((function(){}))}();return Promise.resolve(n&&n.then?n.then(r):r())}catch(n){return Promise.reject(n)}}(o),onPause:()=>function({dispatch:e,mx:t}){try{function r(){return e({type:"PLAYBACK_PAUSE"})}const n=function(){if(t.current)return Promise.resolve(t.current.pause()).then((function(){}))}();return Promise.resolve(n&&n.then?n.then(r):r())}catch(n){return Promise.reject(n)}}(o),onRewind:()=>function({dispatch:e,mx:t}){try{function r(){return e({type:"PLAYBACK_REWIND"})}const n=function(){if(t.current)return Promise.resolve(t.current.rewind()).then((function(){}))}();return Promise.resolve(n&&n.then?n.then(r):r())}catch(n){return Promise.reject(n)}}(o),onFastForward:mt(o),onFastRewind:dt(o),onLoop:ft(o),onMasterVolumeChange:ht(o),tracks:c,effects:i,playback:r},a)},Ot=(e,{type:t,payload:r})=>{switch(t){case"SET_TRACK_VOLUME":return((e,t,r)=>r.map(r=>r.id===t?Object(i.a)(Object(i.a)({},r),{},{volume:e}):r))(r.value,r.trackId,e);case"SET_TRACK_PAN":return((e,t,r)=>r.map(r=>r.id===t?Object(i.a)(Object(i.a)({},r),{},{pan:e}):r))(r.value,r.trackId,e);case"SET_TRACK_SEND_LEVEL":return((e,t,r,n)=>n.map(n=>n.id===r?Object(i.a)(Object(i.a)({},n),{},{send:Object(i.a)(Object(i.a)({},n.send),{},{[t]:e})}):n))(r.value,r.fxId,r.trackId,e);case"TRACK_MUTE_TOGGLE":return((e,t)=>t.map(t=>t.id===e?Object(i.a)(Object(i.a)({},t),{},{isMuted:!t.isMuted}):t))(r.trackId,e);case"TRACK_SOLO_TOGGLE":return((e,t)=>t.map(t=>t.id===e?Object(i.a)(Object(i.a)({},t),{},{isSolo:!t.isSolo}):t))(r.trackId,e);case"TRACK_FX_TOGGLE":return((e,t)=>t.map(t=>t.id===e?Object(i.a)(Object(i.a)({},t),{},{isEffectsDisabled:!t.isEffectsDisabled}):t))(r.trackId,e);case"TRACK_SET_READY_STATE":return((e,t,r)=>r.map(r=>r.id===t?Object(i.a)(Object(i.a)({},r),{},{state:e}):r))(r.state,r.trackId,e);case"SET_TRACKS":return[...r];default:return e}},St=(e,{type:t,payload:r})=>{switch(t){case"SET_EFFECT_PARAM_VALUE":return((e,t,r,n)=>n.map(n=>e===n.id?Object(i.a)(Object(i.a)({},n),{},{parameters:n.parameters.map(e=>e.id===t?Object(i.a)(Object(i.a)({},e),{},{value:r}):e)}):n))(r.effectId,r.parameterId,r.value,e);case"SET_EFFECTS":return[...r];default:return e}},jt=(e,{type:t,payload:r})=>{switch(t){case"PLAYBACK_PLAY":return n=e,Object(i.a)(Object(i.a)({},n),{},{status:Te.PLAYING});case"PLAYBACK_PAUSE":return(e=>Object(i.a)(Object(i.a)({},e),{},{status:Te.PAUSED}))(e);case"PLAYBACK_REWIND":return(e=>Object(i.a)(Object(i.a)({},e),{},{currentPosition:0,status:Te.PLAYING}))(e);case"PLAYBACK_READY":return(e=>Object(i.a)(Object(i.a)({},e),{},{status:Te.READY}))(e);case"PLAYBACK_SET_MASTER_VOLUME":return((e,t)=>Object(i.a)(Object(i.a)({},e),{},{masterVolume:t}))(e,r);case"PLAYBACK_SET_CURRENT_POSITION":return((e,t)=>{e.currentPosition;let r=Object(u.a)(e,["currentPosition"]);return Object(i.a)(Object(i.a)({},r),{},{currentPosition:t})})(e,r);case"PLAYBACK_LOOP":return((e,t)=>Object(i.a)(Object(i.a)({},e),{},{isLooped:t}))(e,r);case"PLAYBACK_FAST_REWIND":return((e,t)=>{let r=e.currentPosition,n=Object(u.a)(e,["currentPosition"]);return Object(i.a)(Object(i.a)({},n),{},{currentPosition:r-t})})(e,r);case"PLAYBACK_FAST_FORWARD":return((e,t)=>{let r=e.currentPosition,n=Object(u.a)(e,["currentPosition"]);return Object(i.a)(Object(i.a)({},n),{},{currentPosition:r+t})})(e,r);case"SET_PLAYBACK":return r;default:return e}var n},Nt=(e,t)=>({tracks:Ot(e.tracks,t),effects:St(e.effects,t),playback:jt(e.playback,t)}),kt=e=>fetch(e).then(e=>e.arrayBuffer()),wt=e=>{const t=e.value,r=e.maxValue;let n=t;return n=1===e.defaultValue?t/.01:t/(r/100),n},Tt=(e,t)=>{const r=e.maxValue,n=e.minValue,s=t*((1===e.defaultValue?1:r)/100);return s<n?(e.value=n,e):s>r?(e.value=r,e):(e.value=s,e)},Lt=(e,t)=>K(t).forEach(r=>(((e,t)=>e[t]instanceof AudioParam)(e,r)?Tt(e[r],t[r]):e[r]=t[r],e)),Ct=(e,t)=>e.connect(t),Rt=(e,t=1)=>{const r=e.createGain();return r.gain.value=t,r},Dt=({id:e,title:t,volume:r,pan:n,muted:s,soloed:a,bypassFX:o,fx:c,state:i})=>({id:e,title:t,volume:r,pan:n,state:i,isMuted:s,isSolo:a,isEffectsDisabled:o,send:G(e=>wt(e.gain),c)}),Bt=e=>{switch(e.id){case"delay":return(({id:e,time:t,feedback:r,frequency:n})=>({id:e,name:"Delay",parameters:[{name:"Time",id:"time",value:t},{name:"Feedback",id:"feedback",value:r},{name:"Frequency",id:"frequency",value:n}]}))(e);case"distortion":return(({id:e,filterType:t,frequency:r,strength:n})=>({id:e,name:"Distortion",parameters:[{name:"Filter Type",id:"filterType",value:t,values:Object.values(Re),type:"radio"},{name:"Frequency",id:"frequency",value:r},{name:"Strength",id:"strength",value:n}]}))(e);case"reverb":return(({id:e,responses:t,currentResponse:r})=>({id:e,name:"Reverb",parameters:[{name:"Response",id:"currentResponse",value:r,values:Object.keys(t),type:"radio"}]}))(e);default:return null}},It=ee(e=>H(Boolean(e))),Ft=X((e,t)=>(console.log("[DISPATCH LOG]",t),e(t))),Mt=(e,t)=>{var r,n;if("undefined"===typeof window)return null;return{tracks:It(e.tracks.map(Dt)),effects:It(e.fx.map(Bt)),playback:(({analyser:e,status:t=Te.NOT_SET,currentPosition:r=0,duration:n,isLooped:s=!1,masterVolume:a=70})=>({analyser:e,status:t,currentPosition:r,duration:n,isLooped:s,masterVolume:a}))({analyser:!!t&&e.analyser,masterVolume:e.volume,duration:null===(r=e.tracks[0])||void 0===r||null===(n=r.buffer)||void 0===n?void 0:n.duration})}};class Vt{constructor({url:e,title:t,context:r,masterBus:n,sends:s=[],volume:a=70,pan:o=50}){this.buffer=null,this.pausedAt=0,this.startedAt=0,this.muted=!1,this.soloed=!1,this.playing=!1,this.hasBeenPlayed=!1,this.bypassFX=!1,this.state=Ce.NOT_SET,this.isLooped=!1,this.id=(e=>e.replace(/[^A-Za-z0-9]+/gi,"").toLowerCase())(t),this.title=t,this.context=r,this.bus=Rt(r),this.soloBus=Rt(r),this.panner=(e=>e.createStereoPanner())(r),Ct(this.bus,this.panner),Ct(this.panner,this.soloBus),Ct(this.soloBus,n),this.fx={},this.volume=a,this.pan=o,s.length>0&&this.addFx(s),this.loadingState=this.load(e)}get volume(){return wt(this.bus.gain)}set volume(e){this.muted?this.previousVolume=e:Tt(this.bus.gain,e)}get pan(){return wt(this.panner.pan)}set pan(e){Tt(this.panner.pan,e)}get looped(){return this.source.loop}set looped(e){this.isLooped=e,!this.source&&this.createSource(),this.source.loop=e}get currentTime(){return this.context.currentTime-this.startedAt}load(e){return kt(e).then(e=>new Promise((t,r)=>this.context.decodeAudioData(e,t,r))).then(e=>(this.buffer=e,this.state=Ce.READY,this.createSource(),this)).catch(t=>(this.state=Ce.FAILED,console.log("[ERROR LOADING TRACK]",t,"URL: ".concat(e)),this))}createSource(){this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.bus),this.isLooped&&(this.looped=!0)}removeSource(){this.source&&(this.source.disconnect(),this.hasBeenPlayed&&this.source.stop(0),this.source=null)}play(e=0){if(this.hasBeenPlayed=!0,!this.playing){!this.source&&this.createSource();const t=this.pausedAt+e>0?this.pausedAt+e:0;this.source.start(0,t),this.startedAt=this.context.currentTime-t,this.pausedAt=0,this.playing=!0}}pause(){if(this.playing){const e=this.context.currentTime-this.startedAt;this.removeSource(),this.playing=!1,this.pausedAt=e}}fastForward(e=15){this.pause(),this.play(e)}stop(){this.removeSource(),this.pausedAt=0,this.startedAt=0,this.playing=!1}mute(){this.previousVolume=this.volume,this.volume=0,this.muted=!0}unmute(){this.muted=!1,this.volume=this.previousVolume}toggleMute(){this.muted?this.unmute():this.mute()}solo(){this.soloed=!0,Tt(this.soloBus.gain,100)}unsolo(){this.soloed=!1,Tt(this.soloBus.gain,0)}resetSolo(){Tt(this.soloBus.gain,100)}toggleSolo(){this.soloed?this.unsolo():this.solo()}addFx(e){return e.map(e=>{const t=e.id,r=e.signalIn,n=Rt(this.context,0);return!this.fx[t]&&(Ct(this.bus,n),Ct(n,r),this.fx[t]=n,n)})}removeFx(e){this.fx[e].disconnect()}toggleFX(){const e=Object.keys(this.fx);return this.bypassFX?e.map(e=>this.fx[e].gain.value=this.fx[e].previousVolume):e.map(e=>{this.fx[e].previousVolume=this.fx[e].gain.value,this.fx[e].gain.value=0}),this.bypassFX=!this.bypassFX,this.bypassFX}}class Yt{constructor(e=[],t=[]){"undefined"!==typeof window&&(this.context=new AudioContext,this.analyser=((e,t={fftSize:2048})=>{const r=e.createAnalyser();return K(t).map(e=>r[e]=t[e]),r})(this.context),this.masterBus=((e,t=[])=>{const r=e.createGain();return r.connect(e.destination),t.map(e=>r.connect(e)),r})(this.context,[this.analyser]),this.volume=70,this.fx=t.map(e=>new e(this.context,this.masterBus)),this.load(e))}get volume(){return wt(this.masterBus.gain)}set volume(e){Tt(this.masterBus.gain,e)}get duration(){return this.tracks[0].buffer.duration}get currentTime(){return this.tracks[0].currentTime}fastForward(e=15){try{const t=this;return Promise.resolve(t.tracks.map(t=>(t.fastForward(e),t)))}catch(t){return Promise.reject(t)}}fastRewind(e=15){try{const t=this;return Promise.resolve(t.fastForward(-e))}catch(t){return Promise.reject(t)}}play(){try{const t=this;function e(){return Fe(t.tracks),t}const r=t.context,n=function(){if(!1===(e=>e.state===Le.RUNNING)(r))return Promise.resolve((e=>e.resume())(r)).then((function(){}))}();return Promise.resolve(n&&n.then?n.then(e):e())}catch(t){return Promise.reject(t)}}pause(){try{const e=this;return Me(e.tracks),Promise.resolve(e)}catch(e){return Promise.reject(e)}}rewind(){try{const e=this;return Ve(e.tracks),Promise.resolve(e)}catch(e){return Promise.reject(e)}}stop(){try{const e=this;return Ye(e.tracks),Promise.resolve(e)}catch(e){return Promise.reject(e)}}setTrackVolume(e,t){try{const r=this;return Promise.resolve(r.tracks.map(r=>(r.id===e&&(r.volume=t),r)))}catch(r){return Promise.reject(r)}}setTrackPan(e,t){try{const r=this;return Promise.resolve(r.tracks.map(r=>(r.id===e&&(r.pan=t),r)))}catch(r){return Promise.reject(r)}}setTrackSendLevel(e,t,r){try{const n=this;return Promise.resolve(n.tracks.map(n=>(n.id===e&&Tt(n.fx[t].gain,r),n)))}catch(n){return Promise.reject(n)}}setTrackPanLevel(e,t){try{const r=this;return Promise.resolve(r.tracks.map(r=>(r.id===e&&(r.pan=t),r)))}catch(r){return Promise.reject(r)}}soloTrack(e){try{const t=this.tracks.map(t=>(t.id===e?t.toggleSolo():t.soloed||t.unsolo(),t));return t.every(e=>!e.soloed)&&t.forEach(e=>e.resetSolo()),Promise.resolve(t)}catch(t){return Promise.reject(t)}}toggleTrack(e){try{const t=this;return Promise.resolve(t.tracks.map(t=>(t.id===e&&t.toggleMute(),t)))}catch(t){return Promise.reject(t)}}toggleTrackFx(e){try{const t=this;return Promise.resolve(t.tracks.map(t=>(t.id===e&&t.toggleFX(),t)))}catch(t){return Promise.reject(t)}}setSendParamValue(e,t,r){try{const n=this;return Promise.resolve(n.fx.map(n=>(n.id===e&&Lt(n,{[t]:r}),n)))}catch(n){return Promise.reject(n)}}loop(e){try{const t=this;return Promise.resolve(t.tracks.map(t=>(t.looped=e,t)))}catch(t){return Promise.reject(t)}}load(e,t){try{const r=this;r.tracks=e.map(({url:e,title:t})=>new Vt({url:e,title:t,context:r.context,masterBus:r.masterBus,sends:r.fx}));const n=r.tracks.length;return Promise.all(r.tracks.map((e,r)=>e.loadingState.then(e=>(t({length:n,current:r+1,isLoading:!0}),e))))}catch(r){return Promise.reject(r)}}}class Kt{constructor({id:e,context:t,masterBus:r}){this.id=e,this.isLooped=!1,this.chain=[],this.context=t,this.signalIn=Rt(t),this.signalOut=Rt(t),Ct(this.signalOut,r)}get isChainEmpty(){return 0===this.chain.length}get gain(){return this.signalIn.gain.value}set gain(e){this.signalIn.gain.value=e}addNode(e,t={}){var r,n;Lt(e,t),this.isChainEmpty?Ct(this.signalIn,e):(r=ne(this.chain),n=e,r.disconnect(),Ct(r,n)),Ct(e,this.signalOut),this.chain.push(e)}tweakNode(e,t,r){const n=this.chain[e];return!!n&&Lt(n,{[t]:r})}set loop(e){const t=ne(this.chain),r=Q(this.chain);Ct(t,r),this.isLooped=e}get loop(){return this.isLooped}}class Gt extends Kt{constructor(e,t){super({context:e,masterBus:t,id:"delay"}),this.addNode(e.createDelay(),{delayTime:25}),this.addNode(e.createGain(),{gain:80}),this.addNode(e.createBiquadFilter(),{frequency:5}),this.loop=!0}set time(e){this.tweakNode(0,"delayTime",e)}get time(){return wt(this.chain[0].delayTime)}set feedback(e){this.tweakNode(1,"gain",e)}get feedback(){return wt(this.chain[1].gain)}set frequency(e){this.tweakNode(2,"frequency",e)}get frequency(){return wt(this.chain[2].frequency)}}class Ut extends Kt{constructor(e,t){super({context:e,masterBus:t,id:"distortion"}),this._strength=200,this.addNode(e.createBiquadFilter(),{type:"highpass",frequency:138,Q:1}),this.addNode(e.createWaveShaper(),{curve:this.getCurve(this._strength),oversample:"4x"})}get strength(){return wt({maxValue:1e3,minValue:0,value:this._strength})}set strength(e){this._strength=e,this.tweakNode(1,"curve",this.getCurve(e))}set filterType(e){this.tweakNode(0,"type",e)}get filterType(){return this.chain[0].type}set frequency(e){this.tweakNode(0,"frequency",e)}get frequency(){return wt(this.chain[0].frequency)}getCurve(e){for(var t,r="number"===typeof e?e:50,n=new Float32Array(44100),s=Math.PI/180,a=0;a<44100;++a)t=2*a/44100-1,n[a]=(3+r)*t*20*s/(Math.PI+r*Math.abs(t));return n}}const zt={Versatile:"assets/impulse-1.mp3",Pattan:"assets/impulse-2.mp3",Style:"assets/impulse-3.mp3"};class qt extends Kt{constructor(e,t,r={responses:zt}){super({context:e,masterBus:t,id:"reverb"}),this.responses=r.responses,this.currentResponseId=Q(K(r.responses)),this.addNode(e.createConvolver()),this.loadResponse()}get currentResponse(){return this.currentResponseId}set currentResponse(e){this.responses[e]&&(this.currentResponseId=e,this.loadResponse())}loadResponse(){try{const e=this,t=e.responses[e.currentResponseId];return Promise.resolve(kt(t).catch(e=>console.log("[ERROR LOADING RESPONSE]",e))).then((function(t){const r=function(){if(t.byteLength>0){const r=new Promise((r,n)=>e.context.decodeAudioData(t,r,n)),n=e.tweakNode;return Promise.resolve(r).then((function(t){n.call(e,0,"buffer",t)}))}console.log("[ERROR LOADING RESPONSE] arrayBuffer is empty")}();if(r&&r.then)return r.then((function(){}))}))}catch(e){return Promise.reject(e)}}}const Wt=({tracks:e=[],effects:t=[Gt,qt,Ut],hasMasterTrack:r=!0,onLoading:a=(()=>{}),children:o})=>{const i=((e,t,r,s)=>{const a=Object(n.useRef)(),o=Object(n.useReducer)(Nt,{tracks:[],effects:[],playback:{}}),i=Object(c.a)(o,2),u=i[0],l=i[1],h=Ft(l);return Object(n.useEffect)(()=>{a.current||(a.current=new Yt([],t)),a.current.stop().then(()=>a.current.load(e,s)).then((function(){try{const e=Mt(a.current,r),t=e.tracks,n=e.effects,o=e.playback;return Promise.resolve(h({type:"SET_TRACKS",payload:t})).then((function(){return Promise.resolve(h({type:"SET_EFFECTS",payload:n})).then((function(){return Promise.resolve(h({type:"SET_PLAYBACK",payload:o})).then((function(){return Promise.resolve(h({type:"PLAYBACK_READY"})).then((function(){s({length:t.length,current:t.length,isLoading:!1})}))}))}))}))}catch(e){return Promise.reject(e)}}))},[e]),{mx:a,state:u,dispatch:h}})(e,t,r,a),u=i.mx,l=i.state,h=i.dispatch;return(e=>{const t=e.dispatch,r=e.state,s=e.mx;Object(n.useEffect)(()=>{switch(r.playback.status){case Te.PLAYING:const e=setInterval(()=>{t({type:"PLAYBACK_SET_CURRENT_POSITION",payload:s.current.currentTime})},1e3);return()=>clearInterval(e);default:return()=>{}}},[r.playback.status]),e.state.playback.currentPosition})(i),s.a.createElement(lt.Provider,{value:{mx:u,dispatch:h}},s.a.createElement(xt,Object.assign({},l),o&&o))};r(13);o.a.render(s.a.createElement(Wt,{tracks:[{title:"Guide",url:"https://s3.amazonaws.com/worship-online/song_audio_mixer_tracks/audios/000/000/130/original/HW_2-GUIDE.m4a?1597937753"},{title:"Drums",url:"https://s3.amazonaws.com/worship-online/song_audio_mixer_tracks/audios/000/000/129/original/HW_3-DRUMS.m4a?1597937753"}],effects:[],hasMasterTrack:!1,onLoading:e=>{console.log("Loading State",e)}},s.a.createElement("button",null,"3RD PARTY")),document.getElementById("root"))},5:function(e,t,r){e.exports=r(14)},6:function(e,t,r){}},[[5,1,2]]]);
//# sourceMappingURL=main.e61db39f.chunk.js.map