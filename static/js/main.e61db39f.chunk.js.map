{"version":3,"sources":["../../node_modules/classnames/index.js","../../node_modules/ramda/es/internal/_isPlaceholder.js","../../node_modules/ramda/es/internal/_curry1.js","../../node_modules/ramda/es/internal/_curry2.js","../../node_modules/ramda/es/add.js","../../node_modules/ramda/es/internal/_arity.js","../../node_modules/ramda/es/curryN.js","../../node_modules/ramda/es/internal/_curryN.js","../../node_modules/ramda/es/internal/_curry3.js","../../node_modules/ramda/es/internal/_isArray.js","../../node_modules/ramda/es/internal/_isTransformer.js","../../node_modules/ramda/es/internal/_dispatchable.js","../../node_modules/ramda/es/internal/_xfBase.js","../../node_modules/ramda/es/max.js","../../node_modules/ramda/es/internal/_map.js","../../node_modules/ramda/es/internal/_isString.js","../../node_modules/ramda/es/internal/_isArrayLike.js","../../node_modules/ramda/es/internal/_xwrap.js","../../node_modules/ramda/es/bind.js","../../node_modules/ramda/es/internal/_reduce.js","../../node_modules/ramda/es/internal/_xmap.js","../../node_modules/ramda/es/internal/_has.js","../../node_modules/ramda/es/internal/_isArguments.js","../../node_modules/ramda/es/keys.js","../../node_modules/ramda/es/map.js","../../node_modules/ramda/es/path.js","../../node_modules/ramda/es/prop.js","../../node_modules/ramda/es/pluck.js","../../node_modules/ramda/es/reduce.js","../../node_modules/ramda/es/curry.js","../../node_modules/ramda/es/not.js","../../node_modules/ramda/es/nth.js","../../node_modules/ramda/es/head.js","../../node_modules/ramda/es/internal/_isObject.js","../../node_modules/ramda/es/internal/_xfilter.js","../../node_modules/ramda/es/filter.js","../../node_modules/ramda/es/internal/_complement.js","../../node_modules/ramda/es/internal/_filter.js","../../node_modules/ramda/es/reject.js","../../node_modules/ramda/es/converge.js","../../node_modules/ramda/es/divide.js","../../node_modules/ramda/es/last.js","../../node_modules/ramda/es/length.js","../../node_modules/ramda/es/internal/_isNumber.js","../../src/components/MasterTrack/helpers.ts","../../node_modules/ramda/es/sum.js","../../src/components/Fader/FaderThumb.tsx","../../src/components/Fader/index.tsx","../../src/components/Fader/helpers.ts","../../src/components/MasterTrack/index.tsx","../../src/constants/index.ts","../../src/helpers/playback.ts","../../src/components/Desk/index.tsx","../../src/components/EffectParameter/index.tsx","../../src/components/Radio/index.js","../../src/components/Effect/index.tsx","../../src/components/Knob/index.tsx","../../src/components/Track/index.tsx","../../src/containers/Context/Context.ts","../../src/store/actions/index.ts","../../src/containers/Effect/Effect.tsx","../../src/containers/Track/Track.tsx","../../src/containers/Desk/Desk.tsx","../../src/store/reducers/tracks.ts","../../src/store/reducers/effects.ts","../../src/store/reducers/playback.ts","../../src/store/reducers/index.ts","../../src/helpers/audio.ts","../../src/helpers/node.ts","../../src/helpers/entities.ts","../../src/store/helpers.ts","../../src/models/track.ts","../../src/models/mixer.ts","../../src/models/fx/fx-base.ts","../../src/models/fx/delay.ts","../../src/models/fx/distortion.ts","../../src/models/fx/reverb.ts","../../src/containers/Mixdesk/Mixdesk.tsx","../../src/hooks/useMixer.ts","../../src/hooks/useProgress.ts","index.js"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","window","_isPlaceholder","a","_curry1","fn","f1","this","_curry2","f2","b","_b","_a","add","Number","_arity","n","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","Error","curryN","_curryN","received","combined","argsIdx","left","combinedIdx","result","_curry3","f3","c","_c","val","Object","prototype","toString","_isTransformer","obj","_dispatchable","methodNames","xf","args","slice","pop","_isArray","idx","transducer","max","_map","functor","len","_isString","x","_isArrayLike","nodeType","XWrap","f","acc","bind","thisObj","_iterableReduce","iter","step","next","done","value","_methodReduce","methodName","symIterator","Symbol","iterator","_reduce","list","_xwrap","_arrayReduce","reduce","TypeError","XMap","_xfBase","input","_xmap","_has","prop","_isArguments","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","hasArgsEnumBug","contains","item","keys","nIdx","ks","checkArgsLength","map","path","paths","p","pluck","curry","not","nth","offset","charAt","head","XFilter","filter","pred","filterable","_filter","reject","converge","after","fns","context","divide","last","NaN","getAverage","FaderThumb","position","isVertical","events","isKnobThumb","className","styleProperty","stylePropertyValue","style","width","EVENTS_MAP","mousemove","mouseup","mousedown","isServer","hasTouchEventsSupport","getEventNameByFeature","eventName","Fader","onChange","containerRef","useRef","onMove","event","containerElement","getX","document","y","getY","newValue","height","bottom","getPointerVerticalPosition","rightBorder","getPointerHorizontalPosition","onMoveEnd","thumbEventName","classnames","ref","MasterTrack","analyser","volume","onVolumeChange","canvasRef","useEffect","array","Uint8Array","drawMeter","average","gradient","createMeterGradient","requestAnimationFrame","trackStyle","PLAYBACK_STATUS","CONTEXT_STATE","TRACK_STATE","FILTER_TYPES","isPlaying","playback","isPaused","isActive","isReady","playAll","track","pauseAll","rewindAll","stopAll","Desk","onPlay","onPause","onFastForward","onFastRewind","onMasterVolumeChange","onLoop","tracks","effects","children","btnClassNames","isButtonPressed","isDisabled","isNotActive","desk","masterVolume","controlsContainer","progressContainer","progressBar","persentPassed","progressTimeNow","convertTime","progressTime","controls","controlsLeft","controlButton","disabled","onClick","xmlns","viewBox","React","fill","dominantBaseline","fontFamily","fontSize","fontStyle","fontWeight","transform","d","id","stroke","strokeMiterlimit","controlsCustom","controlsRight","seconds","secondsResult","Math","minutes","duration","EffectParameterMap","fader","radio","values","EffectParameter","props","type","Control","getControlByType","Effect","name","onParamChange","effect","title","parameters","parameter","parameterValue","constructor","super","startDrag","e","knob","pts","moveHandler","getDeg","update","currentDeg","convertRange","deg","cX","cY","oldMin","oldMax","newMin","newMax","oldValue","dcpy","o","JSON","startAngle","render","kStyle","size","iStyle","oStyle","state","onMouseDown","Knob","min","degrees","Track","isSolo","sendId","isMuted","isEffectsDisabled","fx","onMute","onSolo","onBypass","onSendLevelChange","Context","createContext","setMasterVolume","mx","dispatch","payload","fastForward","current","fastRewind","loop","setSendParamValue","setTrackVolume","setTrackSendLevel","setTrackPan","toggleTrackSolo","trackId","toggleTrack","toggleTrackFx","EffectContainer","useContext","TrackContainer","onPanChange","DeskContainer","Tracks","Effects","play","pause","onRewind","rewind","trackReducer","pan","level","send","toggleTrackMute","toggleTrackFxBypass","setTrackReadyState","effectReducer","effectId","parameterId","setEffectParamValue","playbackReducer","status","PLAYING","PAUSED","currentPosition","READY","setPlaybackReady","setCurrentPosition","isLooped","playbackLoop","reducer","action","fetchAudioAsArrayBuffer","url","fetch","response","getNodeParamNormalizedValue","node","resultValue","defaultValue","maxValue","setNodeParamNormalizedValue","absoluteValue","setNodeParams","params","isAudioParam","connectNodes","source","destination","createGainNode","defaultVolume","gain","createTrackEntity","createEffectEntity","frequency","time","feedback","createDelayEntity","strength","createDistortionEntity","currentResponse","createReverbEntity","compact","Boolean","getDispatchWithLog","console","createState","mixdesk","createPlaybackEntity","hasMasterTrack","sends","buffer","pausedAt","startedAt","muted","soloed","playing","hasBeenPlayed","bypassFX","generateIdByTitle","createPanner","load","bus","panner","currentTime","audioBuffer","Promise","resolve","decodeAudioData","decodedAudioData","error","createSource","removeSource","stop","startValue","elapsed","mute","unmute","toggleMute","solo","soloBus","unsolo","resetSolo","toggleSolo","addFx","signalIn","removeFx","toggleFX","fxId","Mixer","sources","fftSize","createAnalyser","connections","connection","createMasterBus","masterBus","isContextRunning","resumeContext","setTrackPanLevel","soloTrack","newTracks","callback","tracksLength","sousage","index","isLoading","FX","chain","addNode","tweakNode","nodeIndex","lastNode","firstNode","Delay","delayTime","Distortion","_strength","Q","curve","getCurve","oversample","minValue","k","Float32Array","RESPONSES","Reverb","options","responses","loadResponse","arrayBuffer","decodedDataPromise","Mixdesk","onLoading","useReducer","dispatchWithLog","useMixer","interval","setInterval","clearInterval","useProgress","ReactDOM","loadingState","log","getElementById"],"mappings":"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","file":"static/js/main.e61db39f.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default function _isPlaceholder(a) {\n       return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}","import _isPlaceholder from './_isPlaceholder.js';\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}","import _curry1 from './_curry1.js';\nimport _isPlaceholder from './_isPlaceholder.js';\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","import _curry2 from './internal/_curry2.js';\n\n/**\n * Adds two values.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a\n * @param {Number} b\n * @return {Number}\n * @see R.subtract\n * @example\n *\n *      R.add(2, 3);       //=>  5\n *      R.add(7)(10);      //=> 17\n */\nvar add = /*#__PURE__*/_curry2(function add(a, b) {\n  return Number(a) + Number(b);\n});\nexport default add;","export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}","import _arity from './internal/_arity.js';\nimport _curry1 from './internal/_curry1.js';\nimport _curry2 from './internal/_curry2.js';\nimport _curryN from './internal/_curryN.js';\n\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\nvar curryN = /*#__PURE__*/_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\nexport default curryN;","import _arity from './_arity.js';\nimport _isPlaceholder from './_isPlaceholder.js';\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}","import _curry1 from './_curry1.js';\nimport _curry2 from './_curry2.js';\nimport _isPlaceholder from './_isPlaceholder.js';\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};","export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}","import _isArray from './_isArray.js';\nimport _isTransformer from './_isTransformer.js';\n\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer [xf] to return a new transformer (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} xf transducer to initialize if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\nexport default function _dispatchable(methodNames, xf, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n    var args = Array.prototype.slice.call(arguments, 0);\n    var obj = args.pop();\n    if (!_isArray(obj)) {\n      var idx = 0;\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, args);\n        }\n        idx += 1;\n      }\n      if (_isTransformer(obj)) {\n        var transducer = xf.apply(null, args);\n        return transducer(obj);\n      }\n    }\n    return fn.apply(this, arguments);\n  };\n}","export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};","import _curry2 from './internal/_curry2.js';\n\n/**\n * Returns the larger of its two arguments.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> a\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @see R.maxBy, R.min\n * @example\n *\n *      R.max(789, 123); //=> 789\n *      R.max('a', 'b'); //=> 'b'\n */\nvar max = /*#__PURE__*/_curry2(function max(a, b) {\n  return b > a ? b : a;\n});\nexport default max;","export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n  return result;\n}","export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}","import _curry1 from './_curry1.js';\nimport _isArray from './_isArray.js';\nimport _isString from './_isString.js';\n\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n */\nvar _isArrayLike = /*#__PURE__*/_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n  if (!x) {\n    return false;\n  }\n  if (typeof x !== 'object') {\n    return false;\n  }\n  if (_isString(x)) {\n    return false;\n  }\n  if (x.nodeType === 1) {\n    return !!x.length;\n  }\n  if (x.length === 0) {\n    return true;\n  }\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n  return false;\n});\nexport default _isArrayLike;","var XWrap = /*#__PURE__*/function () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n\n  return XWrap;\n}();\n\nexport default function _xwrap(fn) {\n  return new XWrap(fn);\n}","import _arity from './internal/_arity.js';\nimport _curry2 from './internal/_curry2.js';\n\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\nvar bind = /*#__PURE__*/_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\nexport default bind;","import _isArrayLike from './_isArrayLike.js';\nimport _xwrap from './_xwrap.js';\nimport bind from '../bind.js';\n\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n    idx += 1;\n  }\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n    step = iter.next();\n  }\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\n\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\n\nexport default function _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n\n  throw new TypeError('reduce: list must be array or iterable');\n}","import _curry2 from './_curry2.js';\nimport _xfBase from './_xfBase.js';\n\nvar XMap = /*#__PURE__*/function () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return XMap;\n}();\n\nvar _xmap = /*#__PURE__*/_curry2(function _xmap(f, xf) {\n  return new XMap(f, xf);\n});\nexport default _xmap;","export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}","import _has from './_has.js';\n\nvar toString = Object.prototype.toString;\nvar _isArguments = /*#__PURE__*/function () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;","import _curry1 from './internal/_curry1.js';\nimport _has from './internal/_has.js';\nimport _isArguments from './internal/_isArguments.js';\n\n// cover IE < 9 keys issues\nvar hasEnumBug = ! /*#__PURE__*/{ toString: null }.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n// Safari bug\nvar hasArgsEnumBug = /*#__PURE__*/function () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n    idx += 1;\n  }\n  return false;\n};\n\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ? /*#__PURE__*/_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) : /*#__PURE__*/_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n  var prop, nIdx;\n  var ks = [];\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n      nIdx -= 1;\n    }\n  }\n  return ks;\n});\nexport default keys;","import _curry2 from './internal/_curry2.js';\nimport _dispatchable from './internal/_dispatchable.js';\nimport _map from './internal/_map.js';\nimport _reduce from './internal/_reduce.js';\nimport _xmap from './internal/_xmap.js';\nimport curryN from './curryN.js';\nimport keys from './keys.js';\n\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\nvar map = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n    case '[object Object]':\n      return _reduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n    default:\n      return _map(fn, functor);\n  }\n}));\nexport default map;","import _curry2 from './internal/_curry2.js';\n\n/**\n * Retrieve the value at a given path.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @typedefn Idx = String | Int\n * @sig [Idx] -> {a} -> a | Undefined\n * @param {Array} path The path to use.\n * @param {Object} obj The object to retrieve the nested property from.\n * @return {*} The data at `path`.\n * @see R.prop\n * @example\n *\n *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n */\nvar path = /*#__PURE__*/_curry2(function path(paths, obj) {\n  var val = obj;\n  var idx = 0;\n  while (idx < paths.length) {\n    if (val == null) {\n      return;\n    }\n    val = val[paths[idx]];\n    idx += 1;\n  }\n  return val;\n});\nexport default path;","import _curry2 from './internal/_curry2.js';\nimport path from './path.js';\n\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig s -> {s: a} -> a | Undefined\n * @param {String} p The property name\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop = /*#__PURE__*/_curry2(function prop(p, obj) {\n  return path([p], obj);\n});\nexport default prop;","import _curry2 from './internal/_curry2.js';\nimport map from './map.js';\nimport prop from './prop.js';\n\n/**\n * Returns a new list by plucking the same named property off all objects in\n * the list supplied.\n *\n * `pluck` will work on\n * any [functor](https://github.com/fantasyland/fantasy-land#functor) in\n * addition to arrays, as it is equivalent to `R.map(R.prop(k), f)`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => k -> f {k: v} -> f v\n * @param {Number|String} key The key name to pluck off of each object.\n * @param {Array} f The array or functor to consider.\n * @return {Array} The list of values for the given key.\n * @see R.props\n * @example\n *\n *      var getAges = R.pluck('age');\n *      getAges([{name: 'fred', age: 29}, {name: 'wilma', age: 27}]); //=> [29, 27]\n *\n *      R.pluck(0, [[1, 2], [3, 4]]);               //=> [1, 3]\n *      R.pluck('val', {a: {val: 3}, b: {val: 5}}); //=> {a: 3, b: 5}\n * @symb R.pluck('x', [{x: 1, y: 2}, {x: 3, y: 4}, {x: 5, y: 6}]) = [1, 3, 5]\n * @symb R.pluck(0, [[1, 2], [3, 4], [5, 6]]) = [1, 3, 5]\n */\nvar pluck = /*#__PURE__*/_curry2(function pluck(p, list) {\n  return map(prop(p), list);\n});\nexport default pluck;","import _curry3 from './internal/_curry3.js';\nimport _reduce from './internal/_reduce.js';\n\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\nvar reduce = /*#__PURE__*/_curry3(_reduce);\nexport default reduce;","import _curry1 from './internal/_curry1.js';\nimport curryN from './curryN.js';\n\n/**\n * Returns a curried equivalent of the provided function. The curried function\n * has two unusual capabilities. First, its arguments needn't be provided one\n * at a time. If `f` is a ternary function and `g` is `R.curry(f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN, R.partial\n * @example\n *\n *      const addFourNumbers = (a, b, c, d) => a + b + c + d;\n *\n *      const curriedAddFourNumbers = R.curry(addFourNumbers);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\nvar curry = /*#__PURE__*/_curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\nexport default curry;","import _curry1 from './internal/_curry1.js';\n\n/**\n * A function that returns the `!` of its argument. It will return `true` when\n * passed false-y value, and `false` when passed a truth-y one.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig * -> Boolean\n * @param {*} a any value\n * @return {Boolean} the logical inverse of passed argument.\n * @see R.complement\n * @example\n *\n *      R.not(true); //=> false\n *      R.not(false); //=> true\n *      R.not(0); //=> true\n *      R.not(1); //=> false\n */\nvar not = /*#__PURE__*/_curry1(function not(a) {\n  return !a;\n});\nexport default not;","import _curry2 from './internal/_curry2.js';\nimport _isString from './internal/_isString.js';\n\n/**\n * Returns the nth element of the given list or string. If n is negative the\n * element at index length + n is returned.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> a | Undefined\n * @sig Number -> String -> String\n * @param {Number} offset\n * @param {*} list\n * @return {*}\n * @example\n *\n *      const list = ['foo', 'bar', 'baz', 'quux'];\n *      R.nth(1, list); //=> 'bar'\n *      R.nth(-1, list); //=> 'quux'\n *      R.nth(-99, list); //=> undefined\n *\n *      R.nth(2, 'abc'); //=> 'c'\n *      R.nth(3, 'abc'); //=> ''\n * @symb R.nth(-1, [a, b, c]) = c\n * @symb R.nth(0, [a, b, c]) = a\n * @symb R.nth(1, [a, b, c]) = b\n */\nvar nth = /*#__PURE__*/_curry2(function nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n});\nexport default nth;","import nth from './nth.js';\n\n/**\n * Returns the first element of the given list or string. In some libraries\n * this function is named `first`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> a | Undefined\n * @sig String -> String\n * @param {Array|String} list\n * @return {*}\n * @see R.tail, R.init, R.last\n * @example\n *\n *      R.head(['fi', 'fo', 'fum']); //=> 'fi'\n *      R.head([]); //=> undefined\n *\n *      R.head('abc'); //=> 'a'\n *      R.head(''); //=> ''\n */\nvar head = /*#__PURE__*/nth(0);\nexport default head;","export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}","import _curry2 from './_curry2.js';\nimport _xfBase from './_xfBase.js';\n\nvar XFilter = /*#__PURE__*/function () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XFilter;\n}();\n\nvar _xfilter = /*#__PURE__*/_curry2(function _xfilter(f, xf) {\n  return new XFilter(f, xf);\n});\nexport default _xfilter;","import _curry2 from './internal/_curry2.js';\nimport _dispatchable from './internal/_dispatchable.js';\nimport _filter from './internal/_filter.js';\nimport _isObject from './internal/_isObject.js';\nimport _reduce from './internal/_reduce.js';\nimport _xfilter from './internal/_xfilter.js';\nimport keys from './keys.js';\n\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\nvar filter = /*#__PURE__*/_curry2( /*#__PURE__*/_dispatchable(['filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _reduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n    return acc;\n  }, {}, keys(filterable)) :\n  // else\n  _filter(pred, filterable);\n}));\nexport default filter;","export default function _complement(f) {\n  return function () {\n    return !f.apply(this, arguments);\n  };\n}","export default function _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n    idx += 1;\n  }\n  return result;\n}","import _complement from './internal/_complement.js';\nimport _curry2 from './internal/_curry2.js';\nimport filter from './filter.js';\n\n/**\n * The complement of [`filter`](#filter).\n *\n * Acts as a transducer if a transformer is given in list position. Filterable\n * objects include plain objects or any object that has a filter method such\n * as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array}\n * @see R.filter, R.transduce, R.addIndex\n * @example\n *\n *      const isOdd = (n) => n % 2 === 1;\n *\n *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\nvar reject = /*#__PURE__*/_curry2(function reject(pred, filterable) {\n  return filter(_complement(pred), filterable);\n});\nexport default reject;","import _curry2 from './internal/_curry2.js';\nimport _map from './internal/_map.js';\nimport curryN from './curryN.js';\nimport max from './max.js';\nimport pluck from './pluck.js';\nimport reduce from './reduce.js';\n\n/**\n * Accepts a converging function and a list of branching functions and returns\n * a new function. The arity of the new function is the same as the arity of\n * the longest branching function. When invoked, this new function is applied\n * to some arguments, and each branching function is applied to those same\n * arguments. The results of each branching function are passed as arguments\n * to the converging function to produce the return value.\n *\n * @func\n * @memberOf R\n * @since v0.4.2\n * @category Function\n * @sig ((x1, x2, ...) -> z) -> [((a, b, ...) -> x1), ((a, b, ...) -> x2), ...] -> (a -> b -> ... -> z)\n * @param {Function} after A function. `after` will be invoked with the return values of\n *        `fn1` and `fn2` as its arguments.\n * @param {Array} functions A list of functions.\n * @return {Function} A new function.\n * @see R.useWith\n * @example\n *\n *      const average = R.converge(R.divide, [R.sum, R.length])\n *      average([1, 2, 3, 4, 5, 6, 7]) //=> 4\n *\n *      const strangeConcat = R.converge(R.concat, [R.toUpper, R.toLower])\n *      strangeConcat(\"Yodel\") //=> \"YODELyodel\"\n *\n * @symb R.converge(f, [g, h])(a, b) = f(g(a, b), h(a, b))\n */\nvar converge = /*#__PURE__*/_curry2(function converge(after, fns) {\n  return curryN(reduce(max, 0, pluck('length', fns)), function () {\n    var args = arguments;\n    var context = this;\n    return after.apply(context, _map(function (fn) {\n      return fn.apply(context, args);\n    }, fns));\n  });\n});\nexport default converge;","import _curry2 from './internal/_curry2.js';\n\n/**\n * Divides two numbers. Equivalent to `a / b`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a The first value.\n * @param {Number} b The second value.\n * @return {Number} The result of `a / b`.\n * @see R.multiply\n * @example\n *\n *      R.divide(71, 100); //=> 0.71\n *\n *      const half = R.divide(R.__, 2);\n *      half(42); //=> 21\n *\n *      const reciprocal = R.divide(1);\n *      reciprocal(4);   //=> 0.25\n */\nvar divide = /*#__PURE__*/_curry2(function divide(a, b) {\n  return a / b;\n});\nexport default divide;","import nth from './nth.js';\n\n/**\n * Returns the last element of the given list or string.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig [a] -> a | Undefined\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.init, R.head, R.tail\n * @example\n *\n *      R.last(['fi', 'fo', 'fum']); //=> 'fum'\n *      R.last([]); //=> undefined\n *\n *      R.last('abc'); //=> 'c'\n *      R.last(''); //=> ''\n */\nvar last = /*#__PURE__*/nth(-1);\nexport default last;","import _curry1 from './internal/_curry1.js';\nimport _isNumber from './internal/_isNumber.js';\n\n/**\n * Returns the number of elements in the array by returning `list.length`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [a] -> Number\n * @param {Array} list The array to inspect.\n * @return {Number} The length of the array.\n * @example\n *\n *      R.length([]); //=> 0\n *      R.length([1, 2, 3]); //=> 3\n */\nvar length = /*#__PURE__*/_curry1(function length(list) {\n  return list != null && _isNumber(list.length) ? list.length : NaN;\n});\nexport default length;","export default function _isNumber(x) {\n  return Object.prototype.toString.call(x) === '[object Number]';\n}","import {converge, divide, sum, length} from 'ramda';\n\n\nconst COLOR_GREEN = '#05860f';\nconst COLOR_YELLOW = '#f9ef5c';\nconst COLOR_RED = '#861615';\n\n/**\n * @param {AudioContext} context\n * @param {Canvas} canvas\n * @returns {CanvasGradient}\n */\nexport const createMeterGradient = (context, {\n    width,\n    height,\n}) => {\n    const gradient = context.createLinearGradient(0, 0, width, height);\n\n    gradient.addColorStop(0.0, COLOR_GREEN);\n    gradient.addColorStop(0.8, COLOR_YELLOW);\n    gradient.addColorStop(0.9, COLOR_RED);\n\n    return gradient;\n}\n\nexport const getAverage = converge(divide, [sum, length]);","import add from './add.js';\nimport reduce from './reduce.js';\n\n/**\n * Adds together all the elements of a list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig [Number] -> Number\n * @param {Array} list An array of numbers\n * @return {Number} The sum of all the numbers in the list.\n * @see R.reduce\n * @example\n *\n *      R.sum([2,4,6,8,100,1]); //=> 121\n */\nvar sum = /*#__PURE__*/reduce(add, 0);\nexport default sum;","import React from 'react'\n\nimport style from './style.module.css'\n\nconst FaderThumb = ({\n  position = 0,\n  isVertical = false,\n  events = {},\n  isKnobThumb = false,\n  className\n}) => {\n  const styleProperty = isVertical ? 'bottom' : 'left'\n  const stylePropertyValue = position + '%'\n\n  return (\n    <div>\n      <div\n        className={`${style.thumb} ${className}`}\n        style={{\n          [styleProperty]: stylePropertyValue\n        }}\n        {...events}\n      >\n      </div>\n      {isKnobThumb && <div className={style.knobControl} style={{\n          width: stylePropertyValue\n        }}></div>}\n    </div>\n  )\n}\n\nexport default FaderThumb\n","import React, { useRef } from 'react'\nimport classnames from 'classnames'\n\nimport FaderThumb from './FaderThumb'\n\nimport {\n  getX,\n  getY,\n  getPointerVerticalPosition,\n  getPointerHorizontalPosition\n} from './helpers'\n\nimport style from './style.module.css'\n\nconst EVENTS_MAP = {\n  mousemove: 'touchmove',\n  mouseup: 'touchend',\n  mousedown: 'touchstart'\n}\n\nconst isServer = typeof window === 'undefined'\n\nconst hasTouchEventsSupport = () => isServer && 'ontouchstart' in window\n\nconst getEventNameByFeature = (eventName) =>\n  hasTouchEventsSupport() ? EVENTS_MAP[eventName] : eventName\n\ninterface FaderProps {\n  value?: number\n  isVertical?: boolean\n  isKnobThumb?: boolean\n  // TODO:  Refactor onChange due to type inconsistency\n  onChange?: any\n  className?: string\n}\n\nconst Fader: React.FC<FaderProps> = ({\n  value = 0,\n  isVertical = false,\n  isKnobThumb = false,\n  onChange = () => {},\n  className = ''\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const onMoveStart = (event) => {\n    event.preventDefault()\n\n    document.documentElement.addEventListener(\n      getEventNameByFeature('mousemove'),\n      onMove\n    )\n    document.documentElement.addEventListener(\n      getEventNameByFeature('mouseup'),\n      onMoveEnd\n    )\n\n    return false\n  }\n\n  const onMove = (event) => {\n    event.preventDefault()\n\n    const containerElement = containerRef.current\n    const offset = containerElement && containerElement.getBoundingClientRect()\n    const x = getX(event) - document.documentElement.scrollLeft\n    const y = getY(event) - document.documentElement.scrollTop\n\n    const newValue = isVertical\n      ? getPointerVerticalPosition(y, offset)\n      : getPointerHorizontalPosition(x, offset)\n\n    onChange(newValue)\n\n    return false\n  }\n\n  const onMoveEnd = (event) => {\n    event.preventDefault()\n\n    document.documentElement.removeEventListener(\n      getEventNameByFeature('mousemove'),\n      onMove\n    )\n    document.documentElement.removeEventListener(\n      getEventNameByFeature('mouseup'),\n      onMoveEnd\n    )\n\n    return false\n  }\n\n  const thumbEventName = hasTouchEventsSupport()\n    ? 'onTouchStart'\n    : 'onMouseDown'\n\n  return (\n    <div\n      className={classnames(style.fader, !isVertical && style.isHorisontal, isKnobThumb && style.isKnobThumb)}\n      ref={containerRef}\n    >\n      <div className={style.control}>\n        <FaderThumb\n          position={value}\n          events={{ [thumbEventName]: onMoveStart }}\n          isVertical={isVertical}\n          isKnobThumb={isKnobThumb}\n          className={className}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Fader\n","/**\n * @returns {number} vertical coordinate from touch or mouse event\n */\nexport const getY = event => event.touches ? event.touches[0].pageY : event.pageY;\n\n/**\n * @returns {number} horizontal coordinate from touch or move event\n */\nexport const getX = event => event.touches ? event.touches[0].pageX : event.pageX;\n\n/**\n * @returns {number} relative position in percents\n */\nexport const getPointerVerticalPosition = (position, {top, bottom, height}) => {\n    let value = position;\n\n    if (value < top) value = top;\n    if (value > bottom) value = bottom;\n\n    value = bottom - value;\n\n    return value / (height / 100);\n};\n\n/**\n * @returns {number} relative position in percents\n */\nexport const getPointerHorizontalPosition = (position, {width, left}) => {\n    let value = position; // max(min(position, left + width), left) - left;\n\n    const rightBorder = left + width;\n\n    if (value > rightBorder) value = rightBorder;\n    if (value < left) value = left;\n\n    value = value - left;\n\n    return value / (width / 100);\n};\n","import React, { useRef, useEffect } from 'react'\n\nimport { getAverage, createMeterGradient } from './helpers'\n\nimport style from './style.module.css'\nimport trackStyle from './../Track/style.module.css'\nimport Fader from '../Fader'\n\ninterface MasterTrackProps {\n  analyser: AnalyserNode\n  width?: number\n  height?: number\n  volume?: number\n  onVolumeChange: (value) => void\n}\n\nconst MasterTrack: React.FC<MasterTrackProps> = ({\n  analyser = null,\n  width = 6,\n  height = 210,\n  volume = 70,\n  onVolumeChange\n}) => {\n  if (!analyser) {\n    return null\n  }\n\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n\n  useEffect(() => {\n    const context = canvasRef.current && canvasRef.current.getContext('2d')\n    const array = new Uint8Array(analyser.frequencyBinCount)\n\n    const drawMeter = () => {\n      analyser.getByteFrequencyData(array)\n\n      const average = getAverage(array)\n\n      if (context) {\n        context.clearRect(0, 0, width, height)\n        context.fillStyle = createMeterGradient(context as any, {\n          width,\n          height\n        })\n        context.fillRect(0, 0, width, (height / 100) * average)\n      }\n      requestAnimationFrame(drawMeter)\n    }\n\n    drawMeter()\n  }, [])\n\n  return (\n    <div className={`${style.meter} ${trackStyle.track}`}>\n      <canvas\n        className={style.meterValue}\n        width={width}\n        height={height}\n        ref={canvasRef}\n      />\n\n      <Fader onChange={onVolumeChange} isVertical value={volume} />\n\n      <div className={trackStyle.title}>Master</div>\n    </div>\n  )\n}\n\nexport default MasterTrack\n","export enum PLAYBACK_STATUS {\n    PLAYING = 'PLAYING',\n    PAUSED = 'PAUSED',\n    READY = 'READY',\n    FAILED = 'FAILED',\n    NOT_SET = 'NOT_SET',\n};\n\nexport enum CONTEXT_STATE {\n    RUNNING = 'running',\n    SUSPENDED = 'suspended',\n}\n\nexport enum TRACK_STATE {\n    LOADING = 'LOADING',\n    READY = 'READY',\n    FAILED = 'FAILED',\n    NOT_SET = 'NOT_SET',\n};\n\nexport enum FILTER_TYPES {\n\tLOWPASS = 'lowpass',\n\tHIGHPASS = 'highpass',\n\tBANDPASS = 'bandpass',\n};\n","import {map, not} from 'ramda';\n\nimport {\n    PLAYBACK_STATUS,\n} from '../constants';\n\n\nexport const isPlaying = playback => playback.status === PLAYBACK_STATUS.PLAYING;\n\nexport const isPaused = playback => playback.status === PLAYBACK_STATUS.PAUSED; //@TODO: && playback.currentPosition !== 0;\n\nexport const isReady = playback => playback.status === PLAYBACK_STATUS.READY;\n\nexport const isActive = playback => (isPlaying(playback) || isPaused(playback) || isReady(playback));\n\nexport const isNotActive = playback => not(isActive(playback));\n\nexport const playAll = map(track => track.play());\n\nexport const pauseAll = map(track => track.pause());\n\nexport const rewindAll = map(track => {\n    track.stop();\n    track.play();\n});\n\nexport const stopAll = map(track => track.stop());\n","import React from 'react'\n// import React, { useState, useEffect } from 'react'\n\nimport classnames from 'classnames'\n\nimport MasterTrack from '../MasterTrack'\nimport { isPlaying, isPaused, isNotActive } from './../../helpers/playback'\n\nimport style from './style.module.css'\nimport { Playback } from '../../helpers'\nimport { FX } from '../../models/fx'\nimport Track from '../../models/track'\nimport Fader from '../Fader'\n\ninterface DeskProps {\n  playback: Playback\n  onPlay: () => void\n  onPause: () => void\n  onRewind?: () => void\n  onLoop: (value) => void\n  onMasterVolumeChange: (value) => void\n  onFastRewind: (value) => void\n  onFastForward: (value) => void\n  tracks: Track[]\n  effects: FX[]\n}\n\nconst Desk: React.FC<DeskProps> = ({\n  playback,\n  onPlay = () => {},\n  onPause = () => {},\n  // onRewind = () => {},\n  onFastForward = () => {},\n  onFastRewind = () => {},\n  onMasterVolumeChange = () => {},\n  onLoop = () => {},\n  tracks = [],\n  effects = [],\n  children\n}) => {\n  const btnClassNames = (isButtonPressed: boolean) =>\n    classnames(\n      style.control,\n      style.button,\n      isButtonPressed && style.isButtonPressed\n    )\n\n  const isDisabled = isNotActive(playback)\n\n  const loopButtonClassNames = () =>\n    classnames(\n      style.controlButton,\n      playback.isLooped && style.isActive,\n      !playback.isLooped && style.isNotActive\n    )\n\n  return (\n    <div className={style.desk}>\n      <div className={style.tracks}>\n        {tracks}\n        {playback.analyser && (\n          <MasterTrack\n            volume={playback.masterVolume}\n            onVolumeChange={onMasterVolumeChange}\n            analyser={playback.analyser}\n          />\n        )}\n      </div>\n\n      <div className={style.controlsContainer}>\n        <div className={style.progressContainer}>\n          <div\n            className={style.progressBar}\n            style={{ width: `${persentPassed(playback.currentPosition, playback.duration) || 0}%` }}\n          />\n          <div className={style.progressTimeNow}>\n            {convertTime(playback.currentPosition)}\n          </div>\n          <div className={style.progressTime}>\n            {convertTime(playback.duration)}\n          </div>\n        </div>\n        <div className={style.controls}>\n          <div className={style.controlsLeft}>\n            <button className={style.controlButton} disabled={isDisabled} onClick={() => onFastRewind(15)}>\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                viewBox='0 0 24 28'\n                width='24px'\n              >\n                <defs />\n                <text\n                  fill='#fff'\n                  dominantBaseline='text-before-edge'\n                  fontFamily=\"'Avenir Next','AvenirNext-Bold'\"\n                  fontSize='9'\n                  fontStyle='none'\n                  fontWeight='700'\n                  transform='translate(6 10)'\n                >\n                  <tspan>15</tspan>\n                </text>\n                <path\n                  fill='#fff'\n                  d='M12.4 4V.5a.4.4 0 00-.8-.3L7.5 4.3a1 1 0 000 1.4l4.1 4.2c.3.3.8 0 .8-.3V6a9.8 9.8 0 11-10 9.8H.6A11.7 11.7 0 1012.4 4z'\n                />\n              </svg>\n            </button>\n            {!isPlaying(playback) ? (\n              <button\n                className={btnClassNames(isPlaying(playback))}\n                onClick={onPlay}\n                disabled={isDisabled}\n              >\n                <svg\n                  xmlns='http://www.w3.org/2000/svg'\n                  width='32px'\n                  viewBox='0 0 32 36'\n                >\n                  <defs />\n                  <path fill='#fff' d='M31.5 18L.5 36V0z' />\n                </svg>\n              </button>\n            ) : (\n              <button\n                className={btnClassNames(isPaused(playback))}\n                onClick={onPause}\n                disabled={isDisabled}\n              >\n                <svg\n                  width='32px'\n                  height='36px'\n                  viewBox='0 0 100 100'\n                  xmlns='http://www.w3.org/2000/svg'\n                >\n                  <path\n                    id='svg_1'\n                    d='m29.05829,98.186882l-18.799027,0c-4.588525,0 -8.308265,-3.719734 -8.308265,-8.308266l0,-79.706622c0,-4.588521 3.71974,-8.308262 8.308265,-8.308262l18.799027,0c4.588522,0 8.308264,3.71974 8.308264,8.308262l0,79.706622c0,4.588531 -3.719742,8.308266 -8.308264,8.308266z'\n                  />\n                  <path\n                    id='svg_2'\n                    d='m88.74073,98.108856l-18.799034,0c-4.588516,0 -8.308258,-3.719734 -8.308258,-8.308266l0,-79.706615c0,-4.588525 3.719742,-8.308266 8.308258,-8.308266l18.799034,0c4.588531,0 8.308273,3.719741 8.308273,8.308266l0,79.706615c0,4.588531 -3.719742,8.308266 -8.308273,8.308266z'\n                  />\n                  <path\n                    id='svg_3'\n                    d='m30.498528,2.009229c1.62159,1.516152 2.650631,3.65859 2.650631,6.054068l0,79.706615c0,4.588539 -3.71974,8.308273 -8.30826,8.308273l-18.799028,0c-0.493438,0 -0.970003,-0.063263 -1.440241,-0.1455c1.484523,1.387512 3.464588,2.254196 5.657634,2.254196l18.799027,0c4.588522,0 8.308264,-3.719734 8.308264,-8.308266l0,-79.706622c0,-4.095088 -2.96904,-7.477437 -6.868027,-8.162765z'\n                  />\n                  <path\n                    id='svg_4'\n                    d='m90.180962,1.93121c1.621582,1.516153 2.65065,3.658586 2.65065,6.054068l0,79.706608c0,4.588539 -3.719742,8.308273 -8.308273,8.308273l-18.799026,0c-0.493439,0 -0.970009,-0.063263 -1.440239,-0.1455c1.484512,1.387535 3.464584,2.254196 5.657623,2.254196l18.799034,0c4.588531,0 8.308273,-3.719734 8.308273,-8.308266l0,-79.706615c0,-4.095092 -2.969055,-7.479549 -6.868042,-8.162765z'\n                  />\n                  <path\n                    id='svg_5'\n                    fill='none'\n                    stroke='#000000'\n                    strokeMiterlimit='10'\n                    d='m29.05829,98.186882l-18.799027,0c-4.588525,0 -8.308265,-3.719734 -8.308265,-8.308266l0,-79.706622c0,-4.588521 3.71974,-8.308262 8.308265,-8.308262l18.799027,0c4.588522,0 8.308264,3.71974 8.308264,8.308262l0,79.706622c0,4.588531 -3.719742,8.308266 -8.308264,8.308266z'\n                  />\n                  <path\n                    id='svg_6'\n                    fill='none'\n                    stroke='#000000'\n                    strokeMiterlimit='10'\n                    d='m88.74073,98.108856l-18.799034,0c-4.588516,0 -8.308258,-3.719734 -8.308258,-8.308266l0,-79.706615c0,-4.588525 3.719742,-8.308266 8.308258,-8.308266l18.799034,0c4.588531,0 8.308273,3.719741 8.308273,8.308266l0,79.706615c0,4.588531 -3.719742,8.308266 -8.308273,8.308266z'\n                  />\n                </svg>\n              </button>\n            )}\n            <button className={style.controlButton} disabled={isDisabled} onClick={() => onFastForward(15)}>\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                width='24px'\n                viewBox='0 0 24 28'\n              >\n                <defs />\n                <text\n                  fill='#fff'\n                  dominantBaseline='text-before-edge'\n                  fontFamily=\"'Avenir Next','AvenirNext-Bold'\"\n                  fontSize='9'\n                  fontStyle='none'\n                  fontWeight='700'\n                  transform='translate(6 10)'\n                >\n                  <tspan>15</tspan>\n                </text>\n                <path\n                  fill='#fff'\n                  d='M11.9 4V.5c0-.4.4-.5.7-.3l4.2 4.2a1 1 0 010 1.4L12.6 10a.4.4 0 01-.7-.3V6a9.8 9.8 0 109.9 9.8h1.9A11.7 11.7 0 1111.9 4z'\n                />\n              </svg>\n            </button>\n          </div>\n\n          <div className={style.controlsCustom}>{children}</div>\n\n          <div className={style.controlsRight}>\n            <div className={style.masterVolume}>\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                width='30px'\n                viewBox='0 0 30 25'\n              >\n                <defs />\n                <path\n                  fill='#fff'\n                  d='M16 3.7v17.1l-9.4-3.7H2V7.5h4.6zM0 5.5V19h6.2L18 23.8V.8L6.2 5.4zM22.2 5a1 1 0 10-1.4 1.4 8.2 8.2 0 012.4 5.9 8.2 8.2 0 01-2.4 5.8 1 1 0 101.4 1.4 10.1 10.1 0 003-7.2c0-2.8-1.1-5.3-3-7.3z'\n                />\n                <path\n                  fill='#fff'\n                  d='M24.9.3a1 1 0 00-1.4 1.4 15 15 0 010 21.1 1 1 0 101.4 1.4 17 17 0 000-24z'\n                />\n              </svg>\n\n              {/* <div className={style.masterVolumeContainer}>\n                <div className={style.masterVolumeBar}>\n                  <div style={{ width: '70%' }} />\n                </div>\n                <button\n                  className={style.masterVolumeKnob}\n                  style={{ left: '70%' }}\n                  disabled={isDisabled}\n                />\n              </div> */}\n              <Fader onChange={onMasterVolumeChange} isKnobThumb value={playback.masterVolume} />\n            </div>\n            <button\n              className={loopButtonClassNames()}\n              onClick={() => onLoop(!playback.isLooped)}\n              disabled={isDisabled}\n            >\n              <svg\n                xmlns='http://www.w3.org/2000/svg'\n                width='31px'\n                viewBox='0 0 31 28'\n              >\n                <defs />\n                <path\n                  fill='#fff'\n                  d='M28.3 4.4L24 0v3.4H10.4A10.5 10.5 0 002 19.8l1.4-1.4A8.4 8.4 0 012 13.9c0-4.7 3.8-8.5 8.4-8.5H24V9zM2.7 23.2l4.4 4.4v-3.4h13.5a10.5 10.5 0 008.6-16.4l-1.5 1.4a8.4 8.4 0 011.3 4.6c0 4.6-3.7 8.4-8.4 8.4H7.1v-3.4z'\n                />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {effects.length > 0 && <div className={style.effects}>{effects}</div>}\n    </div>\n  )\n}\n\nconst convertTime = (seconds = 0) => {\n  const secondsResult = Math.floor(seconds % 60);\n  const result = {\n    minutes: Math.floor(((seconds - secondsResult) / 60) % 60),\n    seconds: secondsResult > 10 ? secondsResult : `0${secondsResult}`\n  }\n  return `${result.minutes}:${result.seconds}`\n}\n\nconst persentPassed = (seconds, duration) => {\n  return (100 * seconds) / duration;\n}\n\nexport default Desk\n","import React from 'react'\n\nimport Fader from './../Fader'\nimport Radio from './../Radio'\n\nimport style from './style.module.css'\n\nconst EffectParameterMap = {\n  fader: Fader,\n  radio: Radio\n}\n\nconst getControlByType = (type) => EffectParameterMap[type]\n\nexport type EffectParameterType = 'fader' | 'radio'\n\nexport interface EffectParameterProps {\n  id: string\n  name: string\n  type: EffectParameterType\n  onChange: (id) => void\n}\n\nconst EffectParameter: React.FC<EffectParameterProps> = ({\n  onChange,\n  ...props\n}) => {\n  const { id, name, type = 'fader' } = props\n\n  const Control = getControlByType(type)\n\n  return Control ? (\n    <div className={style.parameter} key={id}>\n      <span className={style.title}>{name}:</span>\n      <div className={style.controlContainer}>\n        <Control {...props} onChange={onChange(id)} />\n      </div>\n    </div>\n  ) : null\n}\n\nexport default EffectParameter\n","import React from 'react';\nimport classnames from 'classnames';\n\nimport style from './style.module.css';\n\n\nconst Radio = ({\n    name,\n    value: currentValue,\n    values = [],\n    onChange = () => {},\n}) => (\n    <div className={style.radio}>\n        {values && values.map(value => (\n            <div\n                key={value}\n                className={style.label}\n                onClick={() => onChange(value)}\n            >\n                <div className={classnames(style.control, (value === currentValue) && style.isSelected)} />\n                <div className={style.title}>{value}</div>\n            </div>\n        ))}\n    </div>\n);\n\nexport default Radio;\n","import React from 'react'\n\nimport EffectParameter, { EffectParameterProps } from '../EffectParameter'\n\nimport style from './style.module.css'\n\ninterface Effect {\n  name: string\n  parameters: EffectParameterProps[]\n  onParamChange: () => void\n}\n\nconst Effect = ({\n  name = 'Untitled',\n  parameters,\n  onParamChange = () => {}\n}) => {\n  return (\n    <div className={style.effect}>\n      <div className={style.title}>{name}</div>\n\n      {parameters &&\n        parameters.map((parameter) => (\n          <div className={style.parameterValue} key={parameter.id}>\n            <EffectParameter {...parameter} onChange={onParamChange} />\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default Effect\n","import React, { Component } from 'react'\n\nimport style from './style.module.css'\n\ninterface KnobProps {\n  min: number\n  max: number\n  color?: string\n  size: number\n  degrees: number\n  value: number\n  onChange: any\n}\n\ntype KnobState = {\n  deg: number\n}\n\nclass Knob extends Component<KnobProps, KnobState> {\n  fullAngle: number\n  startAngle: number\n  endAngle: number\n  margin: number\n  isDragging: boolean\n  currentDeg: number\n\n  static defaultProps = {\n    size: 150,\n    min: 10,\n    max: 30,\n    degrees: 270,\n    value: 0\n  }\n\n  constructor(props) {\n    super(props)\n    this.fullAngle = props.degrees\n    this.startAngle = (360 - props.degrees) / 2\n    this.endAngle = this.startAngle + props.degrees\n    this.margin = 0\n    this.isDragging = false\n    this.currentDeg = Math.floor(\n      this.convertRange(\n        props.min,\n        props.max,\n        this.startAngle,\n        this.endAngle,\n        props.value\n      )\n    )\n    this.state = { deg: this.currentDeg }\n  }\n\n  startDrag = (e) => {\n    e.preventDefault()\n\n    const knob = e.target.getBoundingClientRect()\n    const pts = {\n      x: knob.left + knob.width / 2,\n      y: knob.top + knob.height / 2\n    }\n    const moveHandler = (e) => {\n      this.currentDeg = this.getDeg(e.clientX, e.clientY, pts)\n      this.isDragging = true\n      requestAnimationFrame(this.update)\n    }\n    document.addEventListener('mousemove', moveHandler)\n    document.addEventListener('mouseup', () => {\n      this.isDragging = false;\n      document.removeEventListener('mousemove', moveHandler)\n    })\n  }\n\n  update = () => {\n    if (this.isDragging) {\n      requestAnimationFrame(this.update)\n    }\n    if (this.currentDeg === this.startAngle) this.currentDeg--\n    const newValue = Math.floor(\n      this.convertRange(\n        this.startAngle,\n        this.endAngle,\n        this.props.min,\n        this.props.max,\n        this.currentDeg\n      )\n    )\n    this.setState({ deg: this.currentDeg })\n    this.props.onChange(newValue)\n  }\n\n  getDeg = (cX, cY, pts) => {\n    const x = cX - pts.x\n    const y = cY - pts.y\n    let deg = (Math.atan(y / x) * 180) / Math.PI\n    if ((x < 0 && y >= 0) || (x < 0 && y < 0)) {\n      deg += 90\n    } else {\n      deg += 270\n    }\n    let finalDeg = Math.min(Math.max(this.startAngle, deg), this.endAngle)\n    return finalDeg\n  }\n\n  convertRange = (oldMin, oldMax, newMin, newMax, oldValue) => {\n    return (\n      ((oldValue - oldMin) * (newMax - newMin)) / (oldMax - oldMin) + newMin\n    )\n  }\n\n  dcpy = (o) => {\n    return JSON.parse(JSON.stringify(o))\n  }\n\n  render() {\n    let kStyle = {\n      width: this.props.size,\n      height: this.props.size\n    }\n    let iStyle = this.dcpy(kStyle)\n    let oStyle = this.dcpy(kStyle)\n    oStyle.margin = this.margin\n    if (this.props.color) {\n      oStyle.backgroundImage =\n        'radial-gradient(100% 70%,hsl(210, ' +\n        this.currentDeg +\n        '%, ' +\n        this.currentDeg / 5 +\n        '%),hsl(' +\n        Math.random() * 100 +\n        ',20%,' +\n        this.currentDeg / 36 +\n        '%))'\n    }\n    iStyle.transform = 'rotate(' + this.state.deg + 'deg)'\n\n    return (\n      <div className={style.knob} style={kStyle}>\n        <div className={`${style.knob} ${style.outer}`} style={oStyle} onMouseDown={this.startDrag}>\n          <div className={`${style.knob} ${style.inner}`} style={iStyle}>\n            <div className={style.grip} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Knob\n","import React from 'react'\nimport classnames from 'classnames'\nimport { keys } from 'ramda'\n\nimport Fader from './../Fader'\nimport Knob from '../Knob'\n\nimport style from './style.module.css'\n\ninterface TrackProps {\n  id: string\n  title: string\n  volume: number\n  pan: number\n  isMuted: boolean\n  isSolo: boolean\n  isEffectsDisabled: boolean\n  // TODO: Types\n  fx: any\n  onMute: (id) => {}\n  onSolo: (id) => {}\n  onBypass: (id) => {}\n  onVolumeChange: (id) => {}\n  onSendLevelChange?: (id) => {}\n  onPanChange: (id) => {}\n}\n\nconst Track: React.FC<TrackProps> = (props) => (\n  <div className={style.track}>\n    {keys(props.fx).length > 0 && (\n      <button\n        className={classnames(\n          style.button,\n          props.isEffectsDisabled && style.isPressed\n        )}\n        onClick={() => props.onBypass(props.id)}\n      >\n        Bypass FX\n      </button>\n    )}\n    <div className={style.trackControls}>\n      <button\n        className={classnames(style.button, props.isMuted && style.isPressed)}\n        onClick={() => props.onMute(props.id)}\n        disabled={props.isSolo}\n      >\n        M\n      </button>\n      <div\n        className={classnames(\n          style.buttonSeparator,\n          props.isMuted || props.isSolo ? style.isHidden : ''\n        )}\n      />\n      <button\n        className={classnames(style.button, props.isSolo && style.isPressed)}\n        onClick={() => props.onSolo(props.id)}\n      >\n        S\n      </button>\n    </div>\n\n    <Knob\n      degrees={180}\n      min={1}\n      max={100}\n      value={props.pan + 1}\n      size={50}\n      onChange={props.onPanChange(props.id)}\n    />\n\n    {keys(props.fx).length > 0 && (\n      <div className={style.sends}>\n        {keys(props.fx).map((sendId) => (\n          <div className={style.send} key={sendId}>\n            <span className={style.sendTitle}>{sendId}</span>\n            <Fader\n              onChange={props.onSendLevelChange(sendId)}\n              value={props.fx[sendId]}\n            />\n          </div>\n        ))}\n      </div>\n    )}\n\n    <Fader onChange={props.onVolumeChange} value={props.volume} isVertical />\n\n    <div className={style.title}>{props.title}</div>\n  </div>\n)\n\nTrack.defaultProps = {\n  // TODO: Default track props do not work\n  title: 'Untitled',\n  volume: 70,\n  isMuted: false,\n  isSolo: false,\n  isEffectsDisabled: false,\n  // TODO: why is it always truthy even though no send is passed\n  fx: null,\n  onMute: (id) => id,\n  onSolo: (id) => id,\n  onBypass: (id) => id,\n  onVolumeChange: (id) => id,\n  onSendLevelChange: (id) => id\n} as Partial<TrackProps>\n\nexport default Track\n","import {createContext} from 'react';\n\nexport const Context = createContext(null);\n\n","import { curry } from 'ramda'\n\nexport const play = async ({ dispatch, mx }) => {\n  if (mx.current) {\n    await mx.current.play()\n  }\n\n  return dispatch({ type: 'PLAYBACK_PLAY' })\n}\n\nexport const pause = async ({ dispatch, mx }) => {\n  if (mx.current) {\n    await mx.current.pause()\n  }\n\n  return dispatch({ type: 'PLAYBACK_PAUSE' })\n}\n\nexport const rewind = async ({ dispatch, mx }) => {\n  if (mx.current) {\n    await mx.current.rewind()\n  }\n\n  return dispatch({ type: 'PLAYBACK_REWIND' })\n}\n\nexport const setMasterVolume = curry(async ({ dispatch, mx }, value) => {\n  if (mx.current) {\n    mx.current.volume = value\n  }\n\n  return dispatch({\n    type: 'PLAYBACK_SET_MASTER_VOLUME',\n    payload: value\n  })\n})\n\nexport const fastForward = curry(async ({ dispatch, mx }, value) => {\n  if (mx.current) {\n    await mx.current.fastForward(value)\n  }\n\n  return dispatch({\n    type: 'PLAYBACK_FAST_FORWARD',\n    payload: value\n  })\n})\n\nexport const fastRewind = curry(async ({ dispatch, mx }, value) => {\n  if (mx.current) {\n    await mx.current.fastRewind(value)\n  }\n\n  return dispatch({\n    type: 'PLAYBACK_FAST_REWIND',\n    payload: value\n  })\n})\n\nexport const loop = curry(async ({ dispatch, mx }, value) => {\n  if (mx.current) {\n    await mx.current.loop(value)\n  }\n\n  return dispatch({\n    type: 'PLAYBACK_LOOP',\n    payload: value\n  })\n})\n\nexport const setCurrentPosition = curry(async ({ dispatch }, value) => {\n  return dispatch({\n    type: 'PLAYBACK_SET_CURRENT_POSITION',\n    payload: value\n  })\n})\n\nexport const setSendParamValue = curry(\n  async ({ dispatch, mx }, effectId, parameterId, value) => {\n    if (mx.current) {\n      await mx.current.setSendParamValue(effectId, parameterId, value)\n    }\n\n    return dispatch({\n      type: 'SET_EFFECT_PARAM_VALUE',\n      payload: {\n        effectId,\n        parameterId,\n        value\n      }\n    })\n  }\n)\n\nexport const setTrackVolume = curry(\n  async ({ dispatch, mx }, trackId, value) => {\n    if (mx.current) {\n      await mx.current.setTrackVolume(trackId, value)\n    }\n\n    return dispatch({\n      type: 'SET_TRACK_VOLUME',\n      payload: {\n        trackId,\n        value\n      }\n    })\n  }\n)\n\nexport const setTrackSendLevel = curry(\n  async ({ dispatch, mx }, trackId, fxId, value) => {\n    if (mx.current) {\n      await mx.current.setTrackSendLevel(trackId, fxId, value)\n    }\n\n    return dispatch({\n      type: 'SET_TRACK_SEND_LEVEL',\n      payload: {\n        fxId,\n        trackId,\n        value\n      }\n    })\n  }\n)\n\nexport const setTrackPan = curry(async ({ dispatch, mx }, trackId, value) => {\n  if (mx.current) {\n    await mx.current.setTrackPan(trackId, value)\n  }\n\n  return dispatch({\n    type: 'SET_TRACK_PAN',\n    payload: {\n      trackId,\n      value\n    }\n  })\n})\n\nexport const toggleTrackSolo = curry(async ({ dispatch, mx }, trackId) => {\n  if (mx.current) {\n    await mx.current.soloTrack(trackId)\n  }\n\n  return dispatch({\n    type: 'TRACK_SOLO_TOGGLE',\n    payload: {\n      trackId\n    }\n  })\n})\n\nexport const toggleTrack = curry(async ({ dispatch, mx }, trackId) => {\n  if (mx.current) {\n    await mx.current.toggleTrack(trackId)\n  }\n\n  return dispatch({\n    type: 'TRACK_MUTE_TOGGLE',\n    payload: {\n      trackId\n    }\n  })\n})\n\nexport const toggleTrackFx = curry(async ({ dispatch, mx }, trackId) => {\n  if (mx.current) {\n    await mx.current.toggleTrackFx(trackId)\n  }\n\n  return dispatch({\n    type: 'TRACK_FX_TOGGLE',\n    payload: {\n      trackId\n    }\n  })\n})\n","import React, { useContext } from 'react'\n\nimport Effect from '../../components/Effect'\nimport { Context } from '../Context/Context'\n\nimport { setSendParamValue } from '../../store/actions'\n\nexport const EffectContainer = (props) => {\n  const context = useContext(Context)\n\n  return (\n    <Effect {...props} onParamChange={setSendParamValue(context, props.id)} />\n  )\n}\n","import React, { useContext } from 'react'\n\nimport Track from '../../components/Track'\nimport { Context } from '../Context'\n\nimport {\n  setTrackVolume,\n  setTrackSendLevel,\n  setTrackPan,\n  toggleTrack,\n  toggleTrackFx,\n  toggleTrackSolo\n} from '../../store/actions'\n\nexport const TrackContainer = (props) => {\n  const { id: trackId } = props\n  const context = useContext(Context)\n\n  return (\n    <Track\n      {...props}\n      onSolo={toggleTrackSolo(context)}\n      onMute={toggleTrack(context)}\n      onBypass={toggleTrackFx(context)}\n      onVolumeChange={setTrackVolume(context, trackId)}\n      onSendLevelChange={setTrackSendLevel(context, trackId)}\n      onPanChange={setTrackPan(context)}\n    />\n  )\n}\n","import React, { useContext } from 'react'\n\nimport Desk from './../../components/Desk'\nimport { EffectContainer } from './../Effect'\nimport { Context } from './../Context'\nimport { TrackContainer } from './../Track/Track'\n\nimport {\n  play,\n  pause,\n  rewind,\n  setMasterVolume,\n  loop,\n  fastForward,\n  fastRewind\n} from './../../store/actions'\n\n// TODO: add types\nexport const DeskContainer = ({ tracks, effects, playback, children }) => {\n  const context = useContext(Context)\n\n  const Tracks = tracks.map((track) => (\n    <TrackContainer {...track} key={track.id} />\n  ))\n  const Effects = effects.map((effect) => (\n    <EffectContainer {...effect} key={effect.id} />\n  ))\n\n  return (\n    <Desk\n      onPlay={() => play(context)}\n      onPause={() => pause(context)}\n      onRewind={() => rewind(context)}\n      onFastForward={fastForward(context)}\n      onFastRewind={fastRewind(context)}\n      onLoop={loop(context)}\n      onMasterVolumeChange={setMasterVolume(context)}\n      tracks={Tracks}\n      effects={Effects}\n      playback={playback}\n    >\n      {children}\n    </Desk>\n  )\n}\n","const setTrackVolume = (volume, trackId, tracks) => tracks.map(track => {\n    if (track.id === trackId) {\n        return {\n            ...track,\n            volume,\n        };\n    }\n\n    return track;\n});\n\nconst setTrackPan = (pan, trackId, tracks) => tracks.map(track => {\n  if (track.id === trackId) {\n      return {\n          ...track,\n          pan,\n      };\n  }\n  return track;\n});\n\nconst setTrackSendLevel = (level, sendId, trackId, tracks) => tracks.map(track => {\n    if (track.id === trackId) {\n        return {\n            ...track,\n            send: {\n                ...track.send,\n                [sendId]: level,\n            },\n        };\n    }\n\n    return track;\n});\n\nconst toggleTrackMute = (trackId, tracks) => tracks.map(track => {\n    if (track.id === trackId) {\n        return {\n            ...track,\n            isMuted: !track.isMuted,\n        };\n    }\n\n    return track;\n});\n\nconst toggleTrackSolo = (trackId, tracks) => tracks.map(track => {\n  if (track.id === trackId) {\n      return {\n          ...track,\n          isSolo: !track.isSolo,\n      };\n  }\n\n  return track;\n});\n\nconst toggleTrackFxBypass = (trackId, tracks) => tracks.map(track => {\n    if (track.id === trackId) {\n        return {\n            ...track,\n            isEffectsDisabled: !track.isEffectsDisabled,\n        };\n    }\n\n    return track;\n});\n\nconst setTrackReadyState = (state, trackId, tracks) => tracks.map(track => {\n    if (track.id === trackId) {\n        return {\n            ...track,\n            state,\n        };\n    }\n\n    return track;\n});\n\nexport const trackReducer = (tracks, {type, payload}) => {\n    switch (type) {\n        case 'SET_TRACK_VOLUME':\n            return setTrackVolume(\n                payload.value,\n                payload.trackId,\n                tracks\n            );\n        case 'SET_TRACK_PAN':\n          return setTrackPan(\n              payload.value,\n              payload.trackId,\n              tracks\n          );\n        case 'SET_TRACK_SEND_LEVEL':\n            return setTrackSendLevel(\n                payload.value,\n                payload.fxId,\n                payload.trackId,\n                tracks\n            );\n        case 'TRACK_MUTE_TOGGLE':\n            return toggleTrackMute(\n                payload.trackId,\n                tracks\n            );\n        case 'TRACK_SOLO_TOGGLE':\n            return toggleTrackSolo(\n              payload.trackId,\n              tracks\n            )\n        case 'TRACK_FX_TOGGLE':\n            return toggleTrackFxBypass(\n                payload.trackId,\n                tracks\n            );\n        case 'TRACK_SET_READY_STATE':\n            return setTrackReadyState(\n                payload.state,\n                payload.trackId,\n                tracks,\n            );\n        case 'SET_TRACKS':\n          return [...payload];\n        default:\n            return tracks;\n    }\n};\n\n","\nconst setEffectParamValue = (effectId, parameterId, value, effects) => effects.map(effect => {\n    if (effectId === effect.id) {\n        return {\n            ...effect,\n            parameters: effect.parameters.map(parameter => {\n                if (parameter.id === parameterId) {\n                    return {\n                        ...parameter,\n                        value,\n                    };\n                }\n\n                return parameter;\n            }),\n        };\n    }\n\n    return effect;\n});\n\nexport const effectReducer = (effects, {type, payload}) => {\n    switch (type) {\n        case 'SET_EFFECT_PARAM_VALUE':\n            return setEffectParamValue(\n                payload.effectId,\n                payload.parameterId,\n                payload.value,\n                effects\n            );\n        case 'SET_EFFECTS':\n            return [...payload];\n        default:\n            return effects;\n    }\n};\n","import { PLAYBACK_STATUS } from '../../constants'\n\nconst play = (state) => ({\n  ...state,\n  status: PLAYBACK_STATUS.PLAYING\n})\n\nconst pause = (state) => ({\n  ...state,\n  status: PLAYBACK_STATUS.PAUSED\n})\n\nconst rewind = (state) => ({\n  ...state,\n  currentPosition: 0,\n  status: PLAYBACK_STATUS.PLAYING\n})\n\nconst setPlaybackReady = (state) => ({\n  ...state,\n  status: PLAYBACK_STATUS.READY\n})\n\nconst setMasterVolume = (state, value) => ({\n  ...state,\n  masterVolume: value\n})\n\nconst playbackLoop = (state, value) => ({\n  ...state,\n  isLooped: value\n})\n\nconst fastRewind = ({currentPosition, ...state}, value) => ({\n  ...state,\n  currentPosition: currentPosition - value,\n});\n\nconst fastForward = ({currentPosition, ...state}, value) => ({\n  ...state,\n  currentPosition: currentPosition + value,\n});\n\nconst setCurrentPosition = ({currentPosition, ...state}, value) => ({\n  ...state,\n  currentPosition: value,\n});\n\nexport const playbackReducer = (playback, { type, payload }) => {\n  switch (type) {\n    case 'PLAYBACK_PLAY':\n      return play(playback)\n    case 'PLAYBACK_PAUSE':\n      return pause(playback)\n    case 'PLAYBACK_REWIND':\n      return rewind(playback)\n    case 'PLAYBACK_READY':\n      return setPlaybackReady(playback)\n    case 'PLAYBACK_SET_MASTER_VOLUME':\n      return setMasterVolume(playback, payload)\n    case 'PLAYBACK_SET_CURRENT_POSITION':\n      return setCurrentPosition(playback, payload)\n    case 'PLAYBACK_LOOP':\n      return playbackLoop(playback, payload)\n    case 'PLAYBACK_FAST_REWIND':\n      return fastRewind(playback, payload);\n    case 'PLAYBACK_FAST_FORWARD':\n      return fastForward(playback, payload);\n    case 'SET_PLAYBACK':\n      return payload\n    default:\n      return playback\n  }\n}\n","import {trackReducer} from './tracks';\nimport {effectReducer} from './effects';\nimport {playbackReducer} from './playback';\n\nexport const reducer = (state, action) => {\n    return {\n        tracks: trackReducer(state.tracks, action),\n        effects: effectReducer(state.effects, action),\n        playback: playbackReducer(state.playback, action),\n    };\n};\n","'use strict';\n\nimport {keys} from 'ramda';\n\nimport {\n    CONTEXT_STATE,\n} from '../constants';\n\nexport const createContext = () => new AudioContext();\n\n// TODO\nexport const createMasterBus = (context: AudioContext, connections: any[] = []): GainNode => {\n    const gain = context.createGain();\n\n    gain.connect(context.destination);\n    connections.map(connection => gain.connect(connection));\n\n    return gain;\n};\n\nexport const createAnalyser = (context: AudioContext, parameters = {fftSize: 2048}): AnalyserNode => {\n    const analyser = context.createAnalyser();\n\n    keys(parameters).map(key => analyser[key] = parameters[key]);\n\n    return analyser;\n};\n\nexport const createPanner = (context: AudioContext) => context.createStereoPanner();\n\nexport const isAudioParam = (node, parameter) => node[parameter] instanceof AudioParam;\n\nexport const fetchAudioAsArrayBuffer = (url): Promise<ArrayBuffer> => fetch(url).then(response => response.arrayBuffer());\n\nexport const isContextRunning = context => context.state === CONTEXT_STATE.RUNNING;\n\n/**\n * @returns {Promise}\n */\nexport const resumeContext = context => context.resume();\n\n","import {keys} from 'ramda';\n\nimport {isAudioParam} from './audio';\n\n\nexport const getNodeParamNormalizedValue = node => {\n    const {value, maxValue, defaultValue} = node;\n\n    let resultValue = value;\n\n    // @TODO: fix it in normal way\n    if (defaultValue === 1) {\n        resultValue = value / (1 / 100);\n    } else {\n        resultValue = value / (maxValue / 100);\n    }\n\n    return resultValue;\n}\n\nexport const setNodeParamNormalizedValue = (node, value): AudioParam => {\n    const {maxValue, minValue, defaultValue} = node;\n    const dividend = defaultValue === 1 ? 1 : maxValue;\n    const absoluteValue = value * (dividend / 100);\n\n    if (absoluteValue < minValue) {\n        node.value = minValue;\n\n        return node;\n    }\n\n    if (absoluteValue > maxValue) {\n        node.value = maxValue;\n\n        return node;\n    }\n\n    node.value = absoluteValue;\n\n    return node;\n}\n\nexport const setNodeParams = (node, params) => keys(params).forEach(key => {\n    if (isAudioParam(node, key)) {\n        setNodeParamNormalizedValue(node[key], params[key]);\n    } else {\n        node[key] = params[key];\n    }\n\n    return node;\n});\n\nexport const connectNodes = (source, destination) =>\n    source.connect(destination);\n\nexport const connectNodesSingle = (source, destination) => {\n    source.disconnect();\n    connectNodes(source, destination);\n};\n\nexport const createGainNode = (context: AudioContext, defaultVolume = 1): GainNode => {\n    const gain = context.createGain();\n    gain.gain.value = defaultVolume;\n\n    return gain;\n};\n","import {map} from 'ramda';\n\nimport {\n    getNodeParamNormalizedValue,\n} from './node';\n\nimport {\n    PLAYBACK_STATUS,\n    FILTER_TYPES,\n} from '../constants';\n\n\nconst createReverbEntity = ({id, responses, currentResponse}) => ({\n    id,\n    name: 'Reverb',\n    parameters: [{\n        name: 'Response',\n        id: 'currentResponse',\n        value: currentResponse,\n        values: Object.keys(responses),\n        type: 'radio',\n    }],\n});\n\nconst createDelayEntity = ({id, time, feedback, frequency}) => ({\n    id,\n    name: 'Delay',\n    parameters: [{\n        name: 'Time',\n        id: 'time',\n        value: time,\n    }, {\n        name: 'Feedback',\n        id: 'feedback',\n        value: feedback,\n    }, {\n        name: 'Frequency',\n        id: 'frequency',\n        value: frequency,\n    }],\n});\n\nconst createDistortionEntity = ({id, filterType, frequency, strength}) => ({\n    id,\n    name: 'Distortion',\n    parameters: [{\n        name: 'Filter Type',\n        id: 'filterType',\n        value: filterType,\n        values: Object.values(FILTER_TYPES),\n        type: 'radio',\n    }, {\n        name: 'Frequency',\n        id: 'frequency',\n        value: frequency,\n    }, {\n        name: 'Strength',\n        id: 'strength',\n        value: strength,\n    }],\n});\n\n\nexport const generateIdByTitle = title => title.replace(/[^A-Za-z0-9]+/gi, '').toLowerCase();\n\nexport const createTrackEntity = ({id, title, volume, pan, muted, soloed, bypassFX, fx, state}) => ({\n    id,\n    title,\n    volume,\n    pan,\n    state,\n    isMuted: muted,\n    isSolo: soloed,\n    isEffectsDisabled: bypassFX,\n    send: map(send => getNodeParamNormalizedValue(send.gain), fx),\n});\n\nexport const createEffectEntity = effect => {\n    switch (effect.id) {\n        case 'delay':\n            return createDelayEntity(effect);\n        case 'distortion':\n            return createDistortionEntity(effect);\n        case 'reverb':\n            return createReverbEntity(effect);\n        default:\n            return null;\n    }\n};\n\nexport interface Playback {\n  analyser: AnalyserNode\n  status: PLAYBACK_STATUS\n  currentPosition: number\n  duration?: number\n  isLooped: boolean\n  masterVolume: number\n}\n\nexport const createPlaybackEntity = ({\n    analyser,\n    status = PLAYBACK_STATUS.NOT_SET,\n    currentPosition = 0,\n    duration,\n    isLooped = false,\n    masterVolume = 70\n}): Playback => ({\n    analyser,\n    status,\n    currentPosition,\n    duration,\n    isLooped,\n    masterVolume\n});\n","import {curry, reject, not} from 'ramda';\n\nimport {\n    createEffectEntity,\n    createPlaybackEntity,\n    createTrackEntity,\n} from '../helpers/entities';\nimport { Mixer } from '../models/mixer';\n\n\nconst compact = reject(item => not(Boolean(item)));\n\n/**\n * Brings dispatch arguments to console\n *\n * @param {function}  original dispatch\n * @returns {function}  curried version with original dispatch binded\n */\nexport const getDispatchWithLog = curry((dispatch, args) => {\n    console.log('[DISPATCH LOG]', args);\n\n    return dispatch(args);\n});\n\nexport const createState = (mixdesk: Mixer, hasMasterTrack) => {\n    if (typeof window === 'undefined') {\n      return null;\n    }\n\n    const tracks = compact(mixdesk.tracks.map(createTrackEntity));\n\n    const effects = compact(mixdesk.fx.map(createEffectEntity));\n\n    const playback = createPlaybackEntity({\n        analyser: hasMasterTrack ? mixdesk.analyser : false,\n        masterVolume: mixdesk.volume,\n        duration: mixdesk.tracks[0]?.buffer?.duration\n    });\n\n    return {\n        tracks,\n        effects,\n        playback,\n    };\n}\n\n","import { generateIdByTitle } from '../helpers/entities'\nimport { fetchAudioAsArrayBuffer, createPanner } from '../helpers/audio'\n\nimport {\n  connectNodes,\n  createGainNode,\n  getNodeParamNormalizedValue,\n  setNodeParamNormalizedValue\n} from '../helpers/node'\n\nimport { TRACK_STATE } from '../constants'\n\nclass Track {\n  source: AudioBufferSourceNode | null\n  title: string\n  id: string\n  buffer: AudioBuffer = null\n  context: AudioContext\n  pausedAt: number = 0\n  startedAt: number = 0\n  muted: boolean = false\n  soloed: boolean = false\n  playing: boolean = false\n  hasBeenPlayed: boolean = false\n  bypassFX: boolean = false\n  previousVolume: number\n  state: TRACK_STATE = TRACK_STATE.NOT_SET\n  bus: GainNode\n  soloBus: GainNode\n  fx: any\n  loadingState: Promise<this>\n  panner: any\n\n  private isLooped = false;\n\n  constructor({ url, title, context, masterBus, sends = [], volume = 70, pan = 50 }) {\n    this.id = generateIdByTitle(title)\n\n    this.title = title\n    this.context = context\n\n    this.bus = createGainNode(context)\n    this.soloBus = createGainNode(context)\n    this.panner = createPanner(context)\n\n    connectNodes(this.bus, this.panner)\n    connectNodes(this.panner, this.soloBus)\n    connectNodes(this.soloBus, masterBus)\n\n    this.fx = {}\n\n    this.volume = volume\n    this.pan = pan\n\n    if (sends.length > 0) {\n      this.addFx(sends)\n    }\n\n    this.loadingState = this.load(url)\n  }\n\n  get volume() {\n    return getNodeParamNormalizedValue(this.bus.gain)\n  }\n\n  set volume(value) {\n    if (this.muted) {\n      this.previousVolume = value\n    } else {\n      setNodeParamNormalizedValue(this.bus.gain, value)\n    }\n  }\n\n  get pan() {\n    return getNodeParamNormalizedValue(this.panner.pan)\n  }\n\n  set pan(value) {\n    setNodeParamNormalizedValue(this.panner.pan, value)\n  }\n\n  get looped() {\n    return this.source.loop\n  }\n\n  set looped(value) {\n    this.isLooped = value\n    !this.source && this.createSource()\n    this.source.loop = value\n  }\n\n  get currentTime() {\n    return this.context.currentTime - this.startedAt\n  }\n\n  load(url): Promise<this> {\n    return fetchAudioAsArrayBuffer(url)\n      .then((audioBuffer) => {\n        return new Promise((resolve, reject) =>\n          this.context.decodeAudioData(audioBuffer, resolve, reject)\n        )\n      })\n      .then((decodedAudioData: AudioBuffer) => {\n        this.buffer = decodedAudioData\n        this.state = TRACK_STATE.READY\n\n        this.createSource();\n\n        return this;\n      })\n      .catch((error) => {\n        this.state = TRACK_STATE.FAILED\n\n        console.log('[ERROR LOADING TRACK]', error, `URL: ${url}`)\n\n        return this\n      })\n  }\n\n  createSource() {\n    this.source = this.context.createBufferSource()\n    this.source.buffer = this.buffer\n    this.source.connect(this.bus)\n\n    // Get back loop when created again\n    if (this.isLooped) {\n      this.looped = true\n    }\n  }\n\n  removeSource() {\n    if (this.source) {\n      this.source.disconnect()\n      this.hasBeenPlayed && this.source.stop(0)\n      this.source = null\n    }\n  }\n\n  play(offset = 0) {\n    this.hasBeenPlayed = true\n    if (!this.playing) {\n      !this.source && this.createSource();\n\n      const startValue = (this.pausedAt + offset) > 0 ? (this.pausedAt + offset) : 0\n\n      this.source.start(0, startValue)\n\n      this.startedAt = this.context.currentTime - startValue\n      this.pausedAt = 0\n      this.playing = true\n    }\n  }\n\n  pause() {\n    if (this.playing) {\n      const elapsed = this.context.currentTime - this.startedAt\n      this.removeSource()\n      this.playing = false\n      this.pausedAt = elapsed\n    }\n  }\n\n  fastForward(value = 15) {\n    this.pause();\n    this.play(value);\n  }\n\n  stop() {\n    this.removeSource()\n    this.pausedAt = 0\n    this.startedAt = 0\n    this.playing = false\n  }\n\n  mute() {\n    this.previousVolume = this.volume\n    this.volume = 0\n    this.muted = true\n  }\n\n  unmute() {\n    this.muted = false\n    this.volume = this.previousVolume\n  }\n\n  toggleMute() {\n    this.muted ? this.unmute() : this.mute()\n  }\n\n  solo() {\n    this.soloed = true\n    setNodeParamNormalizedValue(this.soloBus.gain, 100)\n  }\n\n  unsolo() {\n    this.soloed = false\n    setNodeParamNormalizedValue(this.soloBus.gain, 0)\n  }\n\n  resetSolo() {\n    setNodeParamNormalizedValue(this.soloBus.gain, 100)\n  }\n\n  toggleSolo() {\n    this.soloed ? this.unsolo() : this.solo()\n  }\n\n  addFx(effects) {\n    return effects.map((fx) => {\n      const { id, signalIn } = fx\n      const bus = createGainNode(this.context, 0)\n\n      if (this.fx[id]) {\n        return false\n      }\n\n      connectNodes(this.bus, bus)\n      connectNodes(bus, signalIn)\n\n      this.fx[id] = bus\n\n      return bus\n    })\n  }\n\n  removeFx(id) {\n    this.fx[id].disconnect()\n  }\n\n  toggleFX() {\n    const keys = Object.keys(this.fx)\n\n    this.bypassFX\n      ? keys.map(\n          (fxId) => (this.fx[fxId].gain.value = this.fx[fxId].previousVolume)\n        )\n      : keys.map((fxId) => {\n          this.fx[fxId].previousVolume = this.fx[fxId].gain.value\n          this.fx[fxId].gain.value = 0\n        })\n\n    this.bypassFX = !this.bypassFX\n\n    return this.bypassFX\n  }\n}\n\nexport default Track\n","import {\n  createContext,\n  createAnalyser,\n  createMasterBus,\n  isContextRunning,\n  resumeContext\n} from '../helpers/audio'\nimport {\n  setNodeParams,\n  setNodeParamNormalizedValue,\n  getNodeParamNormalizedValue\n} from '../helpers/node'\nimport { playAll, pauseAll, rewindAll, stopAll } from '../helpers/playback'\nimport Track from './track'\nimport { FX } from './fx'\n\nexport class Mixer {\n  context: AudioContext\n  analyser: AnalyserNode\n  tracks: Track[]\n  // TODO: rename fx to sends?\n  fx: FX[]\n  masterBus: GainNode\n\n  constructor(sources = [], effects = []) {\n    if (typeof window !== 'undefined') {\n      this.context = createContext()\n\n      this.analyser = createAnalyser(this.context)\n      this.masterBus = createMasterBus(this.context, [this.analyser])\n\n      // TODO it proper\n      this.volume = 70\n\n      this.fx = effects.map(\n        (Effect) => new Effect(this.context, this.masterBus)\n      )\n\n      this.load(sources)\n    }\n  }\n\n  get volume(): number {\n    return getNodeParamNormalizedValue(this.masterBus.gain)\n  }\n\n  set volume(value) {\n    setNodeParamNormalizedValue(this.masterBus.gain, value)\n  }\n\n  get duration(): number {\n    return this.tracks[0].buffer.duration\n  }\n\n  get currentTime(): number {\n    return this.tracks[0].currentTime\n  }\n\n  async fastForward(value = 15) {\n    return this.tracks.map((track: Track) => {\n      track.fastForward(value)\n\n      return track\n    })\n  }\n\n  async fastRewind(value = 15) {\n    return this.fastForward(-value)\n  }\n\n  /**\n   * @returns {Promise<Mixer>}\n   */\n  async play() {\n    const { context } = this\n\n    if (isContextRunning(context) === false) {\n      await resumeContext(context)\n    }\n\n    playAll(this.tracks)\n\n    return this\n  }\n\n  /**\n   * @returns {Promise<Mixer>}\n   */\n  async pause() {\n    pauseAll(this.tracks)\n\n    return this\n  }\n\n  /**\n   * @returns {Promise<Mixer>}\n   */\n  async rewind() {\n    rewindAll(this.tracks)\n\n    return this\n  }\n\n  /**\n   * @returns {Promise<Mixer>}\n   */\n  async stop() {\n    stopAll(this.tracks)\n\n    return this\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @param {number} volume\n   * @returns {Promise<Track[]>}\n   */\n  async setTrackVolume(trackId, volume) {\n    return this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        track.volume = volume\n      }\n\n      return track\n    })\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @param {number} volume\n   * @returns {Promise<Track[]>}\n   */\n  async setTrackPan(trackId, pan) {\n    return this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        track.pan = pan\n      }\n\n      return track\n    })\n  }\n  /**\n   *\n   * @param {TrackId} trackId\n   * @param {SendId} sendId\n   * @param {number} level\n   * @returns {Promise<Track[]>}\n   */\n  async setTrackSendLevel(trackId, sendId, level) {\n    return this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        setNodeParamNormalizedValue(track.fx[sendId].gain, level)\n      }\n\n      return track\n    })\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @param {number} value\n   * @returns {Promise<Track[]>}\n   */\n  async setTrackPanLevel(trackId, value) {\n    return this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        track.pan = value\n      }\n\n      return track\n    })\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @returns {Promise<Track[]>}\n   */\n  async soloTrack(trackId) {\n    const newTracks = this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        track.toggleSolo()\n      } else {\n        if (!track.soloed) {\n          track.unsolo()\n        }\n      }\n      return track\n    })\n\n    if (newTracks.every((track: Track) => !track.soloed)) {\n      newTracks.forEach((track: Track) => track.resetSolo())\n    }\n\n    return newTracks\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @returns {Promise<Track[]>}\n   */\n  async toggleTrack(trackId) {\n    return this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        track.toggleMute()\n      }\n\n      return track\n    })\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @returns {Promise<Track[]>}\n   */\n  async toggleTrackFx(trackId) {\n    return this.tracks.map((track: Track) => {\n      if (track.id === trackId) {\n        track.toggleFX()\n      }\n\n      return track\n    })\n  }\n\n  /**\n   *\n   * @param {SendId} sendId\n   * @param {number|string} value\n   * @retruns {Promise<Send[]>}\n   */\n  async setSendParamValue(sendId, parameterId, value) {\n    return this.fx.map((fx) => {\n      if (fx.id === sendId) {\n        setNodeParams(fx, { [parameterId]: value })\n      }\n\n      return fx\n    })\n  }\n\n  async loop(value) {\n    return this.tracks.map((track: Track) => {\n      track.looped = value\n      return track\n    })\n  }\n\n  async load(sources, callback?) {\n    this.tracks = sources.map(\n      ({ url, title }) =>\n        new Track({\n          url,\n          title,\n          context: this.context,\n          masterBus: this.masterBus,\n          sends: this.fx\n        })\n    )\n\n    const tracksLength = this.tracks.length\n\n    return Promise.all(\n      this.tracks.map((track: Track, index) =>\n        track.loadingState.then((sousage) => {\n          callback({\n            length: tracksLength,\n            current: index + 1,\n            isLoading: true\n          })\n          return sousage\n        })\n      )\n    )\n  }\n}\n","'use strict';\n\nimport {last, head} from 'ramda';\nimport {setNodeParams, connectNodes, connectNodesSingle, createGainNode} from '../../helpers/node';\n\nexport class FX {\n    id: string;\n    isLooped: boolean;\n    // TODO\n    chain: any[];\n    context: AudioContext;\n    signalIn: GainNode;\n    signalOut: GainNode;\n    constructor({id, context, masterBus}) {\n        this.id = id;\n        this.isLooped = false;\n        this.chain = [];\n\n        this.context = context;\n\n        this.signalIn = createGainNode(context);\n        this.signalOut = createGainNode(context);\n\n        connectNodes(this.signalOut, masterBus);\n    }\n\n    get isChainEmpty() {\n        return this.chain.length === 0;\n    }\n\n    get gain() {\n        return this.signalIn.gain.value;\n    }\n\n    set gain(value) {\n        this.signalIn.gain.value = value;\n    }\n\n    addNode(node, parameters = {}) {\n        setNodeParams(node, parameters);\n\n        this.isChainEmpty\n            ? connectNodes(this.signalIn, node)\n            : connectNodesSingle(last(this.chain), node);\n\n        connectNodes(node, this.signalOut);\n\n        this.chain.push(node);\n    }\n\n    tweakNode(nodeIndex, parameter, value) {\n        const node = this.chain[nodeIndex];\n\n        if (!node) {\n            return false;\n        }\n\n        return setNodeParams(node, {\n            [parameter]: value,\n        });\n    }\n\n    set loop(value) {\n        const lastNode = last(this.chain);\n        const firstNode = head(this.chain);\n\n        connectNodes(lastNode, firstNode);\n\n        this.isLooped = value;\n    }\n\n    get loop() {\n        return this.isLooped;\n    }\n}\n","'use strict';\n\nimport {\n    getNodeParamNormalizedValue,\n} from '../../helpers/node';\n\nimport {FX} from './fx-base';\n\n\nconst DEFAULT_FEEDBACK = 80;\nconst DEFAULT_TIME = 25;\nconst DEFAULT_FREQUENCY = 5; // 1120 of 20000 in percents\n\nexport class Delay extends FX {\n\n    // TODO\n    chain: any;\n\n    constructor(context, masterBus) {\n        super({\n            context,\n            masterBus,\n            id: 'delay',\n        });\n\n        this.addNode(context.createDelay(), {\n            delayTime: DEFAULT_TIME,\n        });\n\n        this.addNode(context.createGain(), {\n            gain: DEFAULT_FEEDBACK,\n        });\n\n        this.addNode(context.createBiquadFilter(), {\n            frequency: DEFAULT_FREQUENCY,\n        });\n\n        this.loop = true;\n    }\n\n    set time(value) {\n        this.tweakNode(0, 'delayTime', value);\n    }\n\n    get time() {\n        return getNodeParamNormalizedValue(this.chain[0].delayTime);\n    }\n\n    set feedback(value) {\n        this.tweakNode(1, 'gain', value);\n    }\n\n    get feedback() {\n        return getNodeParamNormalizedValue(this.chain[1].gain);\n    }\n\n    set frequency(value) {\n        this.tweakNode(2, 'frequency', value);\n    }\n\n    get frequency() {\n        return getNodeParamNormalizedValue(this.chain[2].frequency);\n    }\n}\n","'use strict';\n\nimport {\n    getNodeParamNormalizedValue,\n} from '../../helpers/node';\n\nimport {FX} from './fx-base';\n\nconst STRENGTH_MIN = 0;\nconst STRENGTH_MAX = 1000;\nconst DEFAULT_STRENGTH = 200;\nconst DEFAULT_FILTER_FREQUENCY = 138;\nconst DEFAULT_FILTER_TYPE = 'highpass';\nconst DEFAULT_FILTER_Q = 1;\n\nconst strengthToNode = value => ({\n    maxValue: STRENGTH_MAX,\n    minValue: STRENGTH_MIN,\n    value,\n});\n\nexport class Distortion extends FX {\n\n    private _strength = DEFAULT_STRENGTH;\n\n    get strength() {\n      return getNodeParamNormalizedValue(strengthToNode(this._strength));\n    }\n    set strength(value) {\n        this._strength = value\n        this.tweakNode(1, 'curve', this.getCurve(value))\n    }\n\n    set filterType(value) {\n      this.tweakNode(0, 'type', value)\n    }\n\n    get filterType() {\n        return this.chain[0].type;\n    }\n\n    set frequency(value) {\n        this.tweakNode(0, 'frequency', value)\n    }\n\n    get frequency() {\n        return getNodeParamNormalizedValue(this.chain[0].frequency);\n    }\n\n\n    constructor(context, masterBus) {\n        super({\n            context,\n            masterBus,\n            id: 'distortion',\n        });\n\n        this.addNode(context.createBiquadFilter(), {\n            type: DEFAULT_FILTER_TYPE,\n            frequency: DEFAULT_FILTER_FREQUENCY,\n            Q: DEFAULT_FILTER_Q,\n        })\n\n        this.addNode(context.createWaveShaper(), {\n            curve: this.getCurve(this._strength),\n            oversample: '4x'\n        })\n    }\n\n    getCurve(strength) {\n        var k = typeof strength === 'number' ? strength : 50,\n            n_samples = 44100,\n            curve = new Float32Array(n_samples),\n            deg = Math.PI / 180,\n            i = 0,\n            x\n\n        for (; i < n_samples; ++i) {\n            x = i * 2 / n_samples - 1\n            curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x))\n        }\n\n        return curve\n    }\n}\n","'use strict';\n\nimport {head, keys} from 'ramda';\n\nimport {FX} from './fx-base';\nimport {fetchAudioAsArrayBuffer} from '../../helpers/audio';\n\n// TODO: lib assets\nconst RESPONSES = {\n    'Versatile': 'assets/impulse-1.mp3',\n    'Pattan': 'assets/impulse-2.mp3',\n    'Style': 'assets/impulse-3.mp3',\n};\n\nexport class Reverb extends FX {\n\n    responses: typeof RESPONSES;\n    // TODO: enum or whatever\n    currentResponseId: 'Versatile' | 'Pattan' | 'Style';\n\n    constructor(context, masterBus, options = {responses: RESPONSES}) {\n        super({\n            context,\n            masterBus,\n            id: 'reverb',\n        });\n\n        this.responses = options.responses;\n        this.currentResponseId = head(keys(options.responses));\n\n        this.addNode(context.createConvolver());\n        this.loadResponse();\n    }\n\n    get currentResponse() {\n        return this.currentResponseId;\n    }\n\n    set currentResponse(responseId) {\n        const responseUrl = this.responses[responseId];\n\n        if (responseUrl) {\n            this.currentResponseId = responseId;\n\n            this.loadResponse();\n        }\n    }\n\n    async loadResponse() {\n        const url = this.responses[this.currentResponseId];\n\n        // TODO:\n        const arrayBuffer: any =\n            await fetchAudioAsArrayBuffer(url)\n                .catch(error => console.log('[ERROR LOADING RESPONSE]', error));\n\n        if (arrayBuffer.byteLength > 0) {\n            const decodedDataPromise = new Promise((resolve, reject) =>\n                this.context.decodeAudioData(arrayBuffer, resolve, reject));\n\n            this.tweakNode(0, 'buffer', await decodedDataPromise);\n        } else {\n            console.log('[ERROR LOADING RESPONSE] arrayBuffer is empty');\n        }\n    }\n}\n","import React from 'react'\n\nimport { useMixer, UseMixerHook, MixerLoadingState } from '../../hooks/useMixer'\nimport { useProgress } from '../../hooks/useProgress'\nimport { DeskContainer } from '../Desk'\nimport { Context } from '../Context'\nimport { Delay, Reverb, Distortion, FX } from '../../models/fx'\n\nexport interface MixdeskProps  {\n  tracks: any[],\n  effects: FX[],\n  hasMasterTrack?: boolean,\n  onLoading?: (loadingState: MixerLoadingState) => void\n}\n\nexport const Mixdesk: React.FC<MixdeskProps> = ({\n  tracks = [],\n  effects = [Delay, Reverb, Distortion],\n  hasMasterTrack = true,\n  onLoading = () => {},\n  children\n}) => {\n\n  const context: UseMixerHook = useMixer(tracks, effects, hasMasterTrack, onLoading)\n\n  const { mx, state, dispatch } = context\n\n  useProgress(context)\n\n  return (\n    <Context.Provider value={{ mx, dispatch }}>\n      <DeskContainer {...state}>\n       {children && children}\n      </DeskContainer>\n    </Context.Provider>\n  )\n}\n","import { useRef, useReducer, useEffect } from 'react'\n\nimport { reducer } from '../store/reducers'\nimport { getDispatchWithLog, createState } from '../store/helpers'\n\nimport { Mixer } from '../models/mixer'\nimport Track from '../models/track'\nimport { FX } from '../models/fx/fx-base'\nimport { Playback } from '../helpers/entities'\n\nexport interface MixerState {\n  tracks: Track[]\n  effects: FX[]\n  playback: Playback\n  loadingState?: () => MixerLoadingState\n}\n\nexport interface MixerLoadingState {\n  length: number\n  current: number\n  isLoading: boolean\n}\n\nexport interface UseMixerHook {\n  mx: {\n    current?: Mixer\n  }\n  state: MixerState\n  dispatch: React.Dispatch<any>\n}\n\nexport const useMixer = (tracks, effects, hasMasterTrack, onLoading): UseMixerHook => {\n  const mx = useRef<Mixer>()\n\n  const [state, dispatch] = useReducer(reducer, <MixerState>{\n    tracks: [],\n    effects: [],\n    playback: {}\n  })\n\n  const dispatchWithLog = getDispatchWithLog(dispatch)\n\n  useEffect(() => {\n    const onLoad = async () => {\n      const { tracks, effects, playback } = createState(\n        mx.current,\n        hasMasterTrack\n      )\n      await dispatchWithLog({ type: 'SET_TRACKS', payload: tracks })\n      await dispatchWithLog({ type: 'SET_EFFECTS', payload: effects })\n      await dispatchWithLog({ type: 'SET_PLAYBACK', payload: playback })\n      await dispatchWithLog({ type: 'PLAYBACK_READY' })\n\n      onLoading({\n        length: tracks.length,\n        current: tracks.length,\n        isLoading: false\n      })\n    }\n\n    if (!mx.current) {\n      mx.current = new Mixer([], effects)\n    }\n\n    mx.current\n      .stop()\n      .then(() => mx.current.load(tracks, onLoading))\n      .then(onLoad)\n  }, [tracks])\n\n  return {\n    mx,\n    state,\n    dispatch: dispatchWithLog\n  }\n}\n","import { useEffect } from 'react'\nimport { UseMixerHook } from './useMixer'\nimport { PLAYBACK_STATUS } from '../constants'\n\nexport const useProgress = (context: UseMixerHook) => {\n\n  const { dispatch, state, mx } = context\n\n  useEffect(() => {\n      switch (state.playback.status) {\n        case PLAYBACK_STATUS.PLAYING:\n          const interval = setInterval(() => {\n            dispatch({ type: 'PLAYBACK_SET_CURRENT_POSITION', payload: mx.current.currentTime })\n          }, 1000)\n          return () => clearInterval(interval)\n        default:\n          return () => {}\n      }\n  }, [state.playback.status])\n\n  return context.state.playback.currentPosition\n}\n","import 'react-mixdesk/dist/index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Mixdesk } from 'react-mixdesk'\n\nimport './index.css'\n\nconst defaultTracks = [\n  // {\n  //   title: 'Click',\n  //   url:\n  //     'https://s3.amazonaws.com/worship-online/song_audio_mixer_tracks/audios/000/000/128/original/HW_1-CLICK.m4a?1597937753'\n  // },\n  {\n    title: 'Guide',\n    url:\n      'https://s3.amazonaws.com/worship-online/song_audio_mixer_tracks/audios/000/000/130/original/HW_2-GUIDE.m4a?1597937753'\n  },\n  {\n    title: 'Drums',\n    url:\n      'https://s3.amazonaws.com/worship-online/song_audio_mixer_tracks/audios/000/000/129/original/HW_3-DRUMS.m4a?1597937753'\n  }\n]\n\nconst loading = (loadingState) => {\n  console.log('Loading State', loadingState)\n}\n\nReactDOM.render(\n  <Mixdesk\n    tracks={defaultTracks}\n    effects={[]}\n    hasMasterTrack={false}\n    onLoading={loading}\n  >\n    <button>3RD PARTY</button>\n  </Mixdesk>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}